<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Presentación Ley de Graham</title>

    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&family=Lato:wght@300;400;700&display=swap" rel="stylesheet">

    <style id="global-navigation-styles">
        body {
            margin: 0;
            padding: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: #e0e8f0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding-top: 20px;
            padding-bottom: 80px;
        }
        .slide-container {
            position: relative;
        }
        .slide-content {
            display: none;
        }
        .slide-content.active {
            display: block;
        }
        .navigation-controls {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 15px;
            background-color: rgba(3, 79, 132, 0.9);
            padding: 12px 25px;
            border-radius: 30px;
            z-index: 10000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }
        .nav-button {
            background-color: #0ca3a3;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.2s;
        }
        .nav-button:hover:not(:disabled) {
            background-color: #0d9488;
            transform: translateY(-2px);
        }
        .nav-button:disabled {
            background-color: #94a3b8;
            color: #e2e8f0;
            cursor: not-allowed;
        }
        .slide-indicator {
            color: white;
            font-size: 16px;
            font-weight: 600;
            display: flex;
            align-items: center;
            padding: 0 10px;
        }
    </style>

    <style id="slide-specific-styles">
        /* --- Estilos Comunes a Múltiples Diapositivas (Base) --- */
        .slide {
            width: 1280px;
            min-height: 720px;
            overflow: hidden;
            position: relative;
            background: linear-gradient(135deg, #ebf5fc 0%, #d6eaf8 100%);
            margin: 0 auto;
        }
        .slide .title {
            font-size: 2.8rem; /* Tamaño de título base */
            background: linear-gradient(90deg, #034f84 0%, #1a6ea0 50%, #0ca3a3 100%);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            line-height: 1.2;
        }
        .slide .subtitle { /* Para subtítulos como en la titlepage */
            font-size: 1.5rem;
            color: #034f84;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
        }
        .slide .author-info { /* Para la información del autor */
            font-size: 1.1rem;
            color: #1a6ea0;
            margin-top: 1rem;
        }
        .slide .molecules {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
            opacity: 0.15;
        }
        .slide .molecule {
            position: absolute;
            border-radius: 50%;
            animation: common-float 15s infinite ease-in-out;
        }
        @keyframes common-float { /* Asegúrate que esta sea la animación que quieres para todas las .molecule */
            0%, 100% { transform: translateY(0) translateX(0); }
            25% { transform: translateY(-50px) translateX(50px); } /* Ajustado del original para ser más general */
            50% { transform: translateY(-25px) translateX(-50px); }
            75% { transform: translateY(50px) translateX(25px); }
        }
        .slide .content-wrapper {
            position: relative;
            z-index: 1;
        }
        .slide .info-card {
            border-radius: 15px;
            overflow: hidden;
            transition: all 0.3s ease;
            background: rgba(255, 255, 255, 0.9);
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
        }
        .slide .info-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.15);
        }
        .slide .step-number {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            color: white;
            font-weight: bold;
            font-size: 18px;
            margin-right: 12px;
        }
        .slide .card {
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            background: rgba(255, 255, 255, 0.8);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            overflow: hidden;
        }
        .slide .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        .slide .formula {
            font-family: 'Times New Roman', Times, serif;
            font-style: italic;
            background: rgba(3, 79, 132, 0.05);
            border-radius: 8px;
            padding: 10px 20px;
        }
        .slide .frametitle {
            font-size: 2.2rem;
            color: #034f84;
            font-weight: 700;
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #1a6ea0;
        }
        .slide .framesubtitle {
            font-size: 1.3rem;
            color: #1a6ea0;
            font-weight: 600;
            margin-bottom: 1rem;
            margin-top: -1rem;
        }
        .slide .block-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #0ca3a3;
            margin-bottom: 0.5rem;
            padding-left: 10px;
            border-left: 3px solid #0ca3a3;
        }
        .slide .beamer-block {
            background-color: rgba(255, 255, 255, 0.7);
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .slide .beamer-alertblock {
            background-color: rgba(255, 237, 213, 0.7);
            border-left: 4px solid #f97316;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }
        .slide .beamer-exampleblock {
            background-color: rgba(230, 247, 255, 0.7);
            border-left: 4px solid #3b82f6;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 1rem;
        }

        /* KEYFRAMES (COPIADOS DEL ARCHIVO ORIGINAL FUNCIONAL Y NECESARIOS) */
        @keyframes s3-diffuse-particle {
            0% { opacity: 0; transform: translate(90px, 90px) scale(0.2); }
            10% { opacity: 0.8; }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(1); }
        }
        @keyframes s4-effuse-particle {
            0% { opacity: 0; transform: translate(0, 0) scale(0.2); }
            10% { opacity: 0.8; }
            100% { opacity: 0; transform: translate(var(--tx), var(--ty)) scale(1); }
        }
        @keyframes s4-move-fast { 0% { left: 10%; } 100% { left: 90%; } }
        @keyframes s4-move-slow { 0% { left: 10%; } 100% { left: 50%; } }

        @keyframes s5-move-horizontal {
            0% { transform: translateX(0); }
            100% { transform: translateX(calc(100% - 24px)); }
        }
        @keyframes s6-move {
            0% { transform: translate(0, 0); }
            25% { transform: translate(100px, 50px); }
            50% { transform: translate(200px, -50px); }
            75% { transform: translate(300px, 70px); }
            100% { transform: translate(400px, 0); }
        }
        @keyframes s7-moveSlowly { 0% { transform: translateX(0); } 50% { transform: translateX(25px); } 100% { transform: translateX(0); } }
        @keyframes s7-moveFast { 0% { transform: translateX(0); } 50% { transform: translateX(70px); } 100% { transform: translateX(0); } }
        @keyframes s8-pulsate {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }
        @keyframes s8-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }
        @keyframes s9-escape {
            0% { transform: translate(0, 0); opacity: 0; }
            10% { opacity: 1; }
            100% { transform: translate(var(--x), var(--y)); opacity: 0; }
        }
        @keyframes s9-deflate-slow { 0% { transform: scale(1); } 100% { transform: scale(0.98); } }
        @keyframes s9-deflate-fast { 0% { transform: scale(1); } 100% { transform: scale(0.94); } }
        @keyframes s9-pulse-highlight {
            0%, 100% { background-color: rgba(52, 152, 219, 0.1); }
            50% { background-color: rgba(52, 152, 219, 0.3); }
        }
        @keyframes s10-diffuse-ammonia {
            0% { opacity: 0; transform: scale(0.1); }
            20% { opacity: 0.7; }
            100% { transform: scale(1); opacity: 0.4; }
        }
        @keyframes s10-diffuse-vanillin {
            0% { opacity: 0; transform: scale(0.1); }
            30% { opacity: 0.7; }
            100% { transform: scale(0.6); opacity: 0.5; }
        }
        @keyframes s10-float-particle {
            0%, 100% { transform: translate(0, 0); }
            25% { transform: translate(15px, -15px); }
            50% { transform: translate(-15px, -5px); }
            75% { transform: translate(10px, 10px); }
        }
        @keyframes s10-pulse {
            0% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
            100% { transform: translate(-50%, -50%) scale(1); }
        }
        @keyframes s11-glow {
            0% { box-shadow: 0 0 10px rgba(255, 255, 255, 0.6); }
            100% { box-shadow: 0 0 25px rgba(255, 255, 255, 0.9); }
        }
        @keyframes s11-diffuse-hcl { 0% { width: 5%; } 100% { width: 50%; } }
        @keyframes s11-diffuse-nh3 { 0% { width: 5%; } 100% { width: 62%; } }
        @keyframes s11-move-hcl { from { left: 80px; } to { left: 38%; } }
        @keyframes s11-move-nh3 { from { right: 80px; } to { right: calc(100% - 38% - 20px); } }

        @keyframes s12-pulse-green {
            0% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(40, 167, 69, 0); }
            100% { box-shadow: 0 0 0 0 rgba(40, 167, 69, 0); }
        }
        @keyframes s12-move-gas-bg { 0% { background-position: 0% 0%; } 100% { background-position: 100% 100%; } }
        @keyframes s12-move-h2 { 0% { left: 0; transform: translateY(0); } 100% { left: 100%; transform: translateY(-20px); } }
        @keyframes s12-move-o2 { 0% { left: 0; transform: translateY(0); } 100% { left: 100%; transform: translateY(20px); } }

        @keyframes s13-pulse-purple {
            0% { box-shadow: 0 0 0 0 rgba(142, 68, 173, 0.7); }
            70% { box-shadow: 0 0 0 10px rgba(142, 68, 173, 0); }
            100% { box-shadow: 0 0 0 0 rgba(142, 68, 173, 0); }
        }
        @keyframes s13-move-gas-bg { 0% { background-position: 0% 0%; } 100% { background-position: 100% 100%; } }
        @keyframes s13-move-n2 { 0% { left: 0; transform: translateY(0); } 100% { left: 100%; transform: translateY(-20px); } }
        @keyframes s13-move-x { 0% { left: 0; transform: translateY(0); } 100% { left: 28%; transform: translateY(20px); } }

        @keyframes s14-particle-move-1 {
            0% { transform: translateX(0) translateY(0); opacity: 0; }
            20% { opacity: 1; } 80% { opacity: 1; }
            100% { transform: translateX(100px) translateY(-50px); opacity: 0; }
        }
        @keyframes s14-particle-move-2 {
            0% { transform: translateX(0) translateY(0); opacity: 0; }
            20% { opacity: 1; } 80% { opacity: 1; }
            100% { transform: translateX(100px) translateY(50px); opacity: 0; }
        }
        @keyframes s17-float { /* Este es para #slide17 del original, ahora #slide24_nn */
            0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
            25% { transform: translateY(-20px) translateX(20px) rotate(5deg); }
            50% { transform: translateY(-10px) translateX(-20px) rotate(0deg); }
            75% { transform: translateY(20px) translateX(10px) rotate(-5deg); }
        }
        @keyframes s17-spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes s17-glow-title {
            0% { text-shadow: 0 0 5px rgba(26, 110, 160, 0.5); }
            100% { text-shadow: 0 0 15px rgba(26, 110, 160, 0.8), 0 0 20px rgba(12, 163, 163, 0.5); }
        }
        @keyframes s25-thankyou-pulse { /* Para la nueva slide 25 */
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }


        /* --- Slide 1: Nueva - Diapositiva de Título y Autor --- */
        #slide1_nn .title { font-size: 3.5rem; margin-bottom: 0.5rem;}
        #slide1_nn .slide { display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; }

        /* --- Slide 2: Nueva - Agenda de la Clase --- */
        #slide2_nn .frametitle { text-align: center; }
        #slide2_nn ul { list-style-type: none; padding-left: 0; }
        #slide2_nn ul li {
            background: rgba(255,255,255,0.6);
            margin-bottom: 0.75rem;
            padding: 0.75rem 1.25rem;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.07);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-size: 1.1rem;
        }
        #slide2_nn ul li:hover {
            transform: translateX(5px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #slide2_nn ul li i { margin-right: 10px; color: #1a6ea0; }

        /* --- Slide 3: Nueva - Recordando los Gases --- */
/* --- Slide 3: Nueva - Recordando los Gases --- */
#slide3_nn .columns-container { display: flex; gap: 1.5rem; }
#slide3_nn .column { flex: 1; }
#slide3_nn .beamer-block ul { list-style-type: disc; margin-left: 1.5rem; }
/* ESTILOS PARA LA ANIMACIÓN DEL CANVAS: */
#slide3_nn .animation-wrapper {
    background-color: #ffffff; padding: 20px; border-radius: 12px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1); border: 1px solid #b0c4de;
    margin-top: 1rem; margin-bottom: 1rem; text-align: center;
}
#slide3_nn #gasCanvas_s3 {
    border: 2px solid #1a6ea0; background-color: #f0f8ff;
    border-radius: 8px; display: block; 
    margin-left: auto; margin-right: auto; margin-bottom: 10px; 
}
#slide3_nn #gasAnimationLabel_s3 {
    background-color: rgba(3, 79, 132, 0.9); color: white;
    padding: 6px 12px; border-radius: 15px; font-size: 0.85em; 
    transition: opacity 0.5s; box-shadow: 0 2px 4px rgba(0,0,0,0.15);
    display: inline-block; margin-top: 5px; margin-bottom: 10px;
}
#slide3_nn .control-button-s3 {
    background-color: #0ca3a3; color: white;
    font-family: 'Montserrat', sans-serif; font-weight: 600;
    padding: 8px 16px; border-radius: 18px;
    transition: background-color 0.3s, transform 0.2s;
    cursor: pointer; border: none; font-size: 0.9em; margin: 0 5px;
}
#slide3_nn .control-button-s3:hover { background-color: #0d9488; transform: translateY(-1px); }
#slide3_nn .control-button-s3 i { margin-right: 6px; }
/* ELIMINADO: #slide3_nn .placeholder-animation (ya que ahora tenemos la real) */

        /* --- Slide 4: Nueva - Observaciones Iniciales --- */
        #slide4_nn .observation-text {
            font-size: 1.8rem;
            color: #034f84;
            text-align: center;
            padding: 2rem;
            background: rgba(255,255,255,0.7);
            border-radius: 12px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        #slide4_nn .icon-pair i { font-size: 3rem; margin: 0 1rem; }

        /* --- Slide 5 (antes Slide 1): Thomas Graham --- */
        #slide5_nn .portrait { border-radius: 10px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2); transition: transform 0.3s ease; }
        #slide5_nn .portrait:hover { transform: scale(1.02); }
        #slide5_nn .contribution-item { transition: all 0.3s ease; position: relative; }
        #slide5_nn .contribution-item:before { content: ''; position: absolute; left: -15px; top: 50%; transform: translateY(-50%); width: 8px; height: 8px; background-color: #1a6ea0; border-radius: 50%; }
        #slide5_nn .contribution-item:hover { transform: translateX(10px); }
        #slide5_nn .dates { font-family: 'Montserrat', serif; background: linear-gradient(90deg, #1a6ea0, #0ca3a3); color: white; padding: 8px 16px; border-radius: 20px; position: relative; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); }
        #slide5_nn .title { /* Título original de la slide, no el de Beamer */
            font-size: 2.8rem;
            background: linear-gradient(90deg, #034f84 0%, #1a6ea0 50%, #0ca3a3 100%);
            -webkit-background-clip: text; background-clip: text; color: transparent;
            line-height: 1.2;
            /* Asegurarse de que no herede el border-bottom si .frametitle lo tiene globalmente */
            border-bottom: none; 
            padding-bottom: 0;
        }


        /* --- Slide 6 (antes Slide 2): Conceptos Clave - Movimiento de Gases --- */
/* --- Slide 6 (antes Slide 2): Conceptos Clave - Movimiento de Gases --- */
#slide6_nn .simulation-container {
    background-color: white; border-radius: 0.75rem; /* rounded-xl */
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
    padding: 1rem 1.5rem; /* p-4 sm:p-6 */ margin-bottom: 1rem; /* mb-4 */
    font-family: 'Inter', sans-serif; 
}
#slide6_nn canvas {
    display: block; margin: 0.5rem auto; /* Ajustado margen */ border: 1px solid #d1d5db; /* border-gray-300 */
    border-radius: 0.5rem; /* rounded-lg */ background-color: #f9fafb; /* bg-gray-50 */
    max-width: 100%; /* Para asegurar que no se desborde en contenedores más pequeños */
}
#slide6_nn .btn { 
    padding: 0.5rem 1rem; /* py-2 px-4 */ border-radius: 0.375rem; /* rounded-md */ font-weight: 600;
    color: white; transition: background-color 0.3s ease; cursor: pointer;
    display: inline-flex; align-items: center; /* Para alinear icono y texto */
}
#slide6_nn .btn i { margin-right: 0.375rem; /* mr-1.5 */ } /* Espacio para el icono */

#slide6_nn .btn-primary { background-color: #3b82f6; /* bg-blue-500 */ }
#slide6_nn .btn-primary:hover { background-color: #2563eb; /* bg-blue-600 */ }

#slide6_nn .explanation { font-size: 0.75rem; /* text-xs */ color: #4b5563; /* text-gray-600 */ margin-top: 0.5rem; /* mt-2 */ }

#slide6_nn .particle-info {
    display: flex; justify-content: center; align-items: center;
    margin-top: 0.5rem; /* mt-2 */ gap: 0.75rem; /* gap-3 */ flex-wrap: wrap;
}
#slide6_nn .particle-legend { display: flex; align-items: center; gap: 0.25rem; /* gap-1 */ font-size: 0.75rem; /* text-xs */ }
#slide6_nn .particle-dot { width: 10px; height: 10px; border-radius: 50%; } /* Ajustado tamaño */

#slide6_nn .gas-selector-container {
    display: flex; justify-content: space-around; align-items: center;
    margin-bottom: 0.75rem; /* mb-3 */ gap: 0.5rem; /* gap-2 */ flex-wrap: wrap;
}
#slide6_nn .gas-selector {
    padding: 0.375rem 0.5rem; /* py-1.5 px-2 */ border-radius: 0.375rem; /* rounded-md */ border: 1px solid #d1d5db; /* border-gray-300 */
    background-color: white; font-size: 0.75rem; /* text-xs */
}
#slide6_nn label { font-size: 0.75rem; /* text-xs */ color: #374151; /* text-gray-700 */ margin-right: 0.25rem; /* mr-1 */ font-weight: 500; }

/* No necesitamos heredar .title de .slide .title si el h1 en el HTML ya usa la clase .title */
/* #slide6_nn .title { } */

/* Si tenías estos estilos de card en el P1 para slide6, y ahora no los usas, puedes omitirlos o adaptarlos */
/* #slide6_nn .concept-card { transition: transform 0.3s ease, box-shadow 0.3s ease; border-left: 5px solid; background: rgba(255, 255, 255, 0.9); box-shadow: 0 8px 16px rgba(0,0,0,0.1); }
#slide6_nn .concept-card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1); }
#slide6_nn .diffusion-area { border-left-color: #3498db; }
#slide6_nn .effusion-area { border-left-color: #2ecc71; }
#slide6_nn .comparison-card { border-radius: 15px; overflow: hidden; box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease; }
#slide6_nn .comparison-card:hover { transform: scale(1.02); }
*/
        /* --- Slide 7 (antes Slide 3): Difusión - Ejemplo Visual --- */
        #slide7_nn .molecules { opacity: 0.1; }
        #slide7_nn .perfume-container { position: relative; width: 100%; height: 400px; }
        #slide7_nn .perfume-bottle { position: absolute; left: 50px; bottom: 60px; width: 100px; height: 140px; z-index: 2; }
        #slide7_nn .perfume-particle { position: absolute; border-radius: 50%; z-index: 1; animation: s3-diffuse-particle 10s linear forwards; }
        #slide7_nn .step-number { background-color: #9b59b6; }
        #slide7_nn .title { /* Título original de la slide */
            font-size: 2.8rem;
            background: linear-gradient(90deg, #034f84 0%, #1a6ea0 50%, #0ca3a3 100%);
            -webkit-background-clip: text; background-clip: text; color: transparent;
            line-height: 1.2;
        }


        /* --- Slide 8 (antes Slide 4): Efusión - Ejemplo Visual --- */
        #slide8_nn .molecules { opacity: 0.1; }
        #slide8_nn .balloon-container { position: relative; width: 100%; height: 400px; }
        #slide8_nn .balloon { position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%); width: 180px; height: 220px; background-color: #3498db; border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%; z-index: 2; }
        #slide8_nn .balloon::before { content: ''; position: absolute; bottom: -15px; left: 50%; transform: translateX(-50%); width: 20px; height: 25px; background-color: #2980b9; border-radius: 0 0 5px 5px; }
        #slide8_nn .pore { position: absolute; width: 6px; height: 6px; background-color: rgba(0, 0, 0, 0.3); border-radius: 50%; top: 60%; right: 15%; }
        #slide8_nn .gas-particle { position: absolute; border-radius: 50%; opacity: 0; z-index: 1; animation: s4-effuse-particle 3s linear forwards; }
        #slide8_nn .helium { background-color: #f1c40f; width: 8px; height: 8px; }
        #slide8_nn .oxygen { background-color: #e74c3c; width: 12px; height: 12px; }
        #slide8_nn .step-number { background-color: #3498db; }
        #slide8_nn .comparison-container { position: relative; height: 100px; background-color: rgba(255, 255, 255, 0.6); border-radius: 10px; overflow: hidden; margin-top: 20px; }
        #slide8_nn .particle-track { position: absolute; height: 2px; top: 50%; background-color: rgba(0, 0, 0, 0.1); left: 10%; width: 80%; }
        #slide8_nn .moving-particle { position: absolute; border-radius: 50%; top: calc(50% - 6px); left: 10%; }
        #slide8_nn .helium-particle { background-color: #f1c40f; width: 12px; height: 12px; animation: s4-move-fast 3s linear infinite; }
        #slide8_nn .oxygen-particle { background-color: #e74c3c; width: 12px; height: 12px; animation: s4-move-slow 3s linear infinite; }
        #slide8_nn .title { /* Título original de la slide */
            font-size: 2.8rem;
            background: linear-gradient(90deg, #034f84 0%, #1a6ea0 50%, #0ca3a3 100%);
            -webkit-background-clip: text; background-clip: text; color: transparent;
            line-height: 1.2;
        }

        /* --- Slide 9 (antes Slide 5): La Ley de Graham - Enunciado --- */
        #slide9_nn .molecules { opacity: 0.1; }
        #slide9_nn .law-box { border-width: 2px; border-style: solid; border-image: linear-gradient(to right, #1a6ea0, #0ca3a3) 1; position: relative; }
        #slide9_nn .law-box::after { content: ''; position: absolute; top: 100%; left: 50%; transform: translateX(-50%); border-width: 15px 15px 0; border-style: solid; border-color: #e0f2f7 transparent transparent transparent; }
        #slide9_nn .inverse-relation { position: relative; height: 250px; margin-top: 30px; background: rgba(255, 255, 255, 0.6); border-radius: 15px; overflow: hidden; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
        #slide9_nn .axis { position: absolute; background: #333; z-index: 2; }
        #slide9_nn .x-axis { left: 80px; bottom: 60px; width: calc(100% - 160px); height: 2px; }
        #slide9_nn .y-axis { left: 80px; top: 30px; width: 2px; height: calc(100% - 90px); }
        #slide9_nn .curve { position: absolute; width: calc(100% - 160px); height: calc(100% - 90px); left: 80px; top: 30px; }
        #slide9_nn .curve-line { position: absolute; width: 100%; height: 100%; fill: none; stroke: #0ca3a3; stroke-width: 4; stroke-linecap: round; }
        #slide9_nn .axis-label { position: absolute; font-weight: bold; color: #034f84; }
        #slide9_nn .particle { position: absolute; border-radius: 50%; animation: s5-move-horizontal linear infinite; bottom: 70px; z-index: 3; }
        #slide9_nn .light { background-color: #3498db; width: 16px; height: 16px; animation-duration: 3s; left: 80px; }
        #slide9_nn .heavy { background-color: #e74c3c; width: 24px; height: 24px; animation-duration: 7s; left: 80px; }
        #slide9_nn .card {
            border-radius: 10px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            background: rgba(255, 255, 255, 0.75);
            transition: transform 0.3s ease;
        }
        #slide9_nn .card:hover { transform: translateY(-5px); box-shadow: 0 8px 16px rgba(0,0,0,0.15); }
        #slide9_nn .formula {
            background: rgba(3, 79, 132, 0.05); border-radius: 8px;
            padding: 10px 20px; font-family: 'Times New Roman', Times, serif;
        }
        #slide9_nn .title { /* Título original de la slide */
            font-size: 2.8rem;
            background: linear-gradient(90deg, #034f84 0%, #1a6ea0 50%, #0ca3a3 100%);
            -webkit-background-clip: text; background-clip: text; color: transparent;
            line-height: 1.2;
        }

        /* --- Slide 10 (antes Slide 6): Base Teórica - TCM --- */
        #slide10_nn .molecules { opacity: 0.1; }
        #slide10_nn .principle-card { border-left: 5px solid #1a6ea0; }
        #slide10_nn .formula {
            font-family: 'Times New Roman', Times, serif;
            background: rgba(3, 79, 132, 0.07);
            padding: 15px 25px;
            font-style: italic;
        }
        #slide10_nn .particle-container { position: relative; width: 100%; height: 220px; background: rgba(255, 255, 255, 0.6); border-radius: 12px; overflow: hidden; }
        #slide10_nn .particle { position: absolute; width: 12px; height: 12px; border-radius: 50%; background: #3498db; animation: s6-move 5s infinite linear; }
        #slide10_nn .temperature-slider { position: relative; height: 8px; background: linear-gradient(90deg, #3498db, #e74c3c); border-radius: 4px; margin: 10px 0; }
        #slide10_nn .slider-thumb { position: absolute; width: 20px; height: 20px; background: white; border: 3px solid #1a6ea0; border-radius: 50%; top: -6px; right: 30%; }
        #slide10_nn .energy-indicator { position: relative; height: 100px; margin-top: 10px; }
        #slide10_nn .energy-bar { position: absolute; bottom: 0; width: 60px; background: linear-gradient(to top, #3498db, #1a6ea0); border-radius: 5px 5px 0 0; transition: height 0.5s ease; }
        #slide10_nn .equal-energy { border-top: 2px dashed #e74c3c; position: absolute; width: 100%; z-index: 1; }
        #slide10_nn .highlight-box { border: 2px dashed #1a6ea0; border-radius: 8px; padding: 10px; background: rgba(26, 110, 160, 0.05); }
        #slide10_nn .title { /* Título original de la slide */
            font-size: 2.8rem;
            background: linear-gradient(90deg, #034f84 0%, #1a6ea0 50%, #0ca3a3 100%);
            -webkit-background-clip: text; background-clip: text; color: transparent;
            line-height: 1.2;
        }

        /* --- Slide 11 (antes Slide 7): Relacionando KE y Velocidad --- */
        #slide11_nn .molecules { opacity: 0.1; }
        #slide11_nn .title { font-size: 2.5rem; }
        #slide11_nn .formula-box { border-radius: 8px; background: rgba(255, 255, 255, 0.9); box-shadow: 0 3px 10px rgba(0,0,0,0.1); padding: 15px 20px; }
        #slide11_nn .formula { font-family: 'Times New Roman', Times, serif; font-style: italic; font-size: 1.5rem; background: transparent; padding: 0; }
        #slide11_nn .conclusion-box { border: 2px dashed #1a6ea0; border-radius: 10px; padding: 12px; background: rgba(26, 110, 160, 0.07); }
        #slide11_nn .molecule-circle { border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        #slide11_nn .move-slow { animation: s7-moveSlowly 5s infinite ease-in-out; }
        #slide11_nn .move-fast { animation: s7-moveFast 3s infinite ease-in-out; }
        #slide11_nn .arrow { height: 2px; background: #1a6ea0; position: relative; }
        #slide11_nn .arrow::after { content: ''; position: absolute; right: -5px; top: -4px; border-left: 8px solid #1a6ea0; border-top: 5px solid transparent; border-bottom: 5px solid transparent; }
        #slide11_nn .energy-bar { width: 100%; height: 20px; background: linear-gradient(90deg, #3498db, #2ecc71); border-radius: 10px; }

        /* --- Slide 12 (antes Slide 8): La Fórmula de la Ley de Graham --- */
        #slide12_nn .molecules { opacity: 0.1; }
        #slide12_nn .title { font-size: 2.5rem; }
        #slide12_nn .formula-box { background: rgba(255, 255, 255, 0.95); border-radius: 10px; box-shadow: 0 4px 12px rgba(0,0,0,0.08); padding: 20px; position: relative; overflow: hidden; }
        #slide12_nn .formula { font-family: 'Times New Roman', Times, serif; font-style: italic; font-weight: 500; background: transparent; padding:0; }
        #slide12_nn .huge-formula { font-size: 3rem; line-height: 1.2; }
        #slide12_nn .medium-formula { font-size: 2rem; line-height: 1.2; }
        #slide12_nn .glow { position: absolute; width: 150px; height: 150px; border-radius: 50%; background: radial-gradient(rgba(52, 152, 219, 0.4), rgba(52, 152, 219, 0)); z-index: 0; }
        #slide12_nn .note-box { border-left: 4px solid #f39c12; background: rgba(243, 156, 18, 0.05); padding: 10px 15px; border-radius: 0 8px 8px 0; }
        #slide12_nn .formula-divider { height: 3px; background: #1a6ea0; margin: 5px 0; border-radius: 2px; }
        #slide12_nn .inverse-relationship { position: relative; display: inline-block; }
        #slide12_nn .inverse-relationship::before { content: ''; position: absolute; width: 100%; height: 3px; background: #e74c3c; bottom: -5px; left: 0; transform: rotate(-15deg); }
        #slide12_nn .pulsate { animation: s8-pulsate 2s infinite ease-in-out; }
        #slide12_nn .bounce { animation: s8-bounce 5s infinite ease-in-out; }

        /* --- Slide 13 (antes Slide 9): Ejemplo Conceptual - Globos --- */
        #slide13_nn .molecules { opacity: 0.1; }
        #slide13_nn .title { font-size: 2.5rem; }
        #slide13_nn .balloon { position: relative; margin: 0 auto; transition: all 0.3s ease; }
        #slide13_nn .balloon-body { border-radius: 50%; position: relative; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        #slide13_nn .balloon-string { position: absolute; bottom: -80px; left: 50%; width: 2px; height: 80px; background: #888; transform: translateX(-50%); }
        #slide13_nn .gas-particle { position: absolute; border-radius: 50%; background-color: rgba(255, 255, 255, 0.8); animation: s9-escape 3s infinite; opacity: 0; }
        #slide13_nn .deflate-slow { animation: s9-deflate-slow 8s alternate infinite ease-in-out; }
        #slide13_nn .deflate-fast { animation: s9-deflate-fast 4s alternate infinite ease-in-out; }
        #slide13_nn .comparison-arrow { position: absolute; height: 3px; background: #3498db; transform-origin: left; }
        #slide13_nn .arrow-head { position: absolute; right: -10px; top: -7px; width: 0; height: 0; border-top: 7px solid transparent; border-bottom: 7px solid transparent; border-left: 10px solid #3498db; }
        #slide13_nn .formula { font-family: 'Times New Roman', Times, serif; font-style: italic; background: transparent; padding: 0; }
        #slide13_nn .pulse-highlight { animation: s9-pulse-highlight 2s infinite; }

        /* --- Slide 14 (antes Slide 10): Ejemplo Conceptual - Olores --- */
        #slide14_nn .molecules { opacity: 0.1; }
        #slide14_nn .title { font-size: 2.5rem; }
        #slide14_nn .room-visualization { position: relative; height: 320px; border-radius: 12px; overflow: hidden; background-color: rgba(255, 255, 255, 0.8); box-shadow: inset 0 0 20px rgba(0,0,0,0.05); }
        #slide14_nn .diffusion-container { position: relative; height: 100%; width: 100%; }
        #slide14_nn .diffusion-ammonia { position: absolute; left: 0; top: 0; height: 100%; width: 100%; background: radial-gradient(circle at 5% 50%, rgba(0, 150, 255, 0.7) 0%, rgba(0, 150, 255, 0) 60%); animation: s10-diffuse-ammonia 10s infinite; }
        #slide14_nn .diffusion-vanillin { position: absolute; right: 0; top: 0; height: 100%; width: 100%; background: radial-gradient(circle at 95% 50%, rgba(151, 71, 255, 0.7) 0%, rgba(151, 71, 255, 0) 40%); animation: s10-diffuse-vanillin 10s infinite; }
        #slide14_nn .bottle { position: absolute; width: 50px; height: 80px; z-index: 5; }
        #slide14_nn .bottle-left { left: 40px; top: 50%; transform: translateY(-50%); }
        #slide14_nn .bottle-right { right: 40px; top: 50%; transform: translateY(-50%); }
        #slide14_nn .bottle-body { position: absolute; bottom: 0; left: 0; width: 100%; height: 75%; border-radius: 5px 5px 10px 10px; }
        #slide14_nn .bottle-neck { position: absolute; top: 0; left: 50%; transform: translateX(-50%); width: 40%; height: 25%; border-radius: 5px 5px 0 0; }
        #slide14_nn .molecule-particle { position: absolute; border-radius: 50%; animation: s10-float-particle 6s infinite ease-in-out; }
        #slide14_nn .timeline { position: relative; height: 100px; }
        #slide14_nn .timeline-line { position: absolute; top: 50%; left: 0; width: 100%; height: 4px; background: linear-gradient(to right, #034f84, #0ca3a3); transform: translateY(-50%); }
        #slide14_nn .timeline-point { position: absolute; width: 20px; height: 20px; border-radius: 50%; top: 50%; transform: translateY(-50%); cursor: pointer; z-index: 1; }
        #slide14_nn .timeline-label { position: absolute; font-size: 14px; font-weight: bold; text-align: center; width: 120px; }
        #slide14_nn .ammonia-molecule { background-color: rgba(0, 150, 255, 0.8); }
        #slide14_nn .vanillin-molecule { background-color: rgba(151, 71, 255, 0.8); }
        #slide14_nn .nose-icon { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 50px; color: #666; z-index: 10; }
        #slide14_nn .pulse { animation: s10-pulse 2s infinite; }

        /* --- Slide 15 (antes Slide 11): Demostración Clásica - HCl y NH₃ --- */
        #slide15_nn .molecules { opacity: 0.1; }
        #slide15_nn .title { font-size: 2.5rem; }
        #slide15_nn .tube { position: relative; width: 100%; height: 100px; background-color: rgba(255, 255, 255, 0.6); border-radius: 50px; overflow: hidden; box-shadow: 0 4px 12px rgba(0,0,0,0.1), inset 0 0 40px rgba(0,0,0,0.05); }
        #slide15_nn .cotton { position: absolute; width: 80px; height: 80px; top: 50%; transform: translateY(-50%); border-radius: 50%; }
        #slide15_nn .cotton-left { left: 10px; background: radial-gradient(circle, #f8e0e0 30%, #f1c1c1 70%); box-shadow: 0 0 15px rgba(255, 0, 0, 0.2); }
        #slide15_nn .cotton-right { right: 10px; background: radial-gradient(circle, #e0f8e0 30%, #c1e1c1 70%); box-shadow: 0 0 15px rgba(0, 255, 0, 0.2); }
        #slide15_nn .ring { position: absolute; width: 20px; height: 60px; top: 50%; left: 38%; transform: translateY(-50%); background-color: white; border-radius: 10px; box-shadow: 0 0 20px rgba(255, 255, 255, 0.8); opacity: 0.85; animation: s11-glow 2s infinite alternate; }
        #slide15_nn .diffusion-hcl { position: absolute; height: 100%; left: 0; background: linear-gradient(to right, rgba(255, 100, 100, 0.4) 0%, rgba(255, 100, 100, 0) 100%); animation: s11-diffuse-hcl 8s infinite; }
        #slide15_nn .diffusion-nh3 { position: absolute; height: 100%; right: 0; background: linear-gradient(to left, rgba(100, 255, 100, 0.4) 0%, rgba(100, 255, 100, 0) 100%); animation: s11-diffuse-nh3 5s infinite; }
        #slide15_nn .gas-molecule { position: absolute; border-radius: 50%; opacity: 0.8; z-index: 2; }
        #slide15_nn .hcl-molecule { background-color: rgba(255, 50, 50, 0.8); animation: s11-move-hcl 8s infinite; }
        #slide15_nn .nh3-molecule { background-color: rgba(50, 255, 50, 0.8); animation: s11-move-nh3 5s infinite; }
        #slide15_nn .molecule-labels { position: relative; height: 50px; }
        #slide15_nn .molecule-label { position: absolute; padding: 8px 12px; border-radius: 8px; color: white; font-weight: bold; transform: translateX(-50%); z-index: 10; }

        /* --- Slide 16 (antes Slide 12): Cálculo de Ejemplo 1 --- */
        #slide16_nn .molecules { opacity: 0.08; }
        #slide16_nn .title { font-size: 2.5rem; }
        #slide16_nn .step-number { background: linear-gradient(135deg, #034f84 0%, #1a6ea0 100%); }
        #slide16_nn .result { border: 3px solid #28a745; animation: s12-pulse-green 2s infinite; }
        #slide16_nn .gas-container { border-radius: 10px; overflow: hidden; position: relative; height: 150px; }
        #slide16_nn .gas { position: absolute; width: 100%; height: 100%; animation: s12-move-gas-bg 3s infinite; }
        #slide16_nn .h2-gas { background: linear-gradient(45deg, #3498db44 25%, #3498db22 50%, #3498db44 75%); background-size: 200% 200%; animation: s12-move-gas-bg 1s infinite; }
        #slide16_nn .o2-gas { background: linear-gradient(45deg, #e74c3c44 25%, #e74c3c22 50%, #e74c3c44 75%); background-size: 200% 200%; animation: s12-move-gas-bg 4s infinite; }
        #slide16_nn .molecule-animation { position: absolute; border-radius: 50%; animation-timing-function: linear; animation-iteration-count: infinite; }
        #slide16_nn .h2-molecule { background-color: #3498db; animation-name: s12-move-h2; animation-duration: 2s; }
        #slide16_nn .o2-molecule { background-color: #e74c3c; animation-name: s12-move-o2; animation-duration: 8s; }
        #slide16_nn .formula-box { border: 2px dashed #1a6ea0; border-radius: 12px; background-color: rgba(26, 110, 160, 0.05); }

        /* --- Slide 17 (antes Slide 13): Cálculo de Ejemplo 2 --- */
        #slide17_nn .molecules { opacity: 0.08; }
        #slide17_nn .title { font-size: 2.5rem; }
        #slide17_nn .step-number { background: linear-gradient(135deg, #034f84 0%, #1a6ea0 100%); }
        #slide17_nn .result { border: 3px solid #8e44ad; animation: s13-pulse-purple 2s infinite; }
        #slide17_nn .gas-container { border-radius: 10px; overflow: hidden; position: relative; height: 150px; }
        #slide17_nn .gas { position: absolute; width: 100%; height: 100%; animation: s13-move-gas-bg 3s infinite; }
        #slide17_nn .n2-gas { background: linear-gradient(45deg, #3498db44 25%, #3498db22 50%, #3498db44 75%); background-size: 200% 200%; animation: s13-move-gas-bg 3s infinite; }
        #slide17_nn .x-gas { background: linear-gradient(45deg, #8e44ad44 25%, #8e44ad22 50%, #8e44ad44 75%); background-size: 200% 200%; animation: s13-move-gas-bg 10s infinite; }
        #slide17_nn .molecule-animation { position: absolute; border-radius: 50%; animation-timing-function: linear; animation-iteration-count: infinite; }
        #slide17_nn .n2-molecule { background-color: #3498db; animation-name: s13-move-n2; animation-duration: 3s; }
        #slide17_nn .x-molecule { background-color: #8e44ad; animation-name: s13-move-x; animation-duration: 10s; }
        #slide17_nn .formula-box { border: 2px dashed #1a6ea0; border-radius: 12px; background-color: rgba(26, 110, 160, 0.05); }
        #slide17_nn .mystery { background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%); color: white; border-radius: 50%; width: 28px; height: 28px; display: inline-flex; align-items: center; justify-content: center; font-weight: bold; margin-right: 4px; text-shadow: 1px 1px 2px rgba(0,0,0,0.3); }

        /* --- Slide 18 (Modificada/Expandida - antes Slide 14): Aplicaciones Tecnológicas e Industriales --- */
        #slide18_nn .molecules { opacity: 0.08; }
        #slide18_nn .title { font-size: 2.5rem; }
        #slide18_nn .card::after { content: ''; position: absolute; top: 0; left: 0; width: 6px; height: 100%; }
        #slide18_nn .card-isotope::after { background: linear-gradient(to bottom, #3498db, #2980b9); }
        #slide18_nn .card-molar::after { background: linear-gradient(to bottom, #2ecc71, #27ae60); }
        #slide18_nn .card-safety::after { background: linear-gradient(to bottom, #e67e22, #d35400); }
        #slide18_nn .icon-container { width: 70px; height: 70px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 1.5rem; position: relative; background: #fff; box-shadow: 0 4px 8px rgba(0,0,0,0.1); }
        #slide18_nn .icon-container::before { content: ''; position: absolute; top: 0; left: 0; right: 0; bottom: 0; border-radius: 50%; z-index: -1; opacity: 0.1; }
        #slide18_nn .icon-isotope::before { background: #3498db; }
        #slide18_nn .icon-molar::before { background: #2ecc71; }
        #slide18_nn .icon-safety::before { background: #e67e22; }
        #slide18_nn .particle { position: absolute; border-radius: 50%; width: 10px; height: 10px; }
        #slide18_nn .particle-1 { background-color: #2980b9; animation: s14-particle-move-1 4s infinite linear; }
        #slide18_nn .particle-2 { background-color: #3498db; animation: s14-particle-move-2 4s infinite linear; }
        #slide18_nn .uranium { position: relative; display: inline-block; font-weight: bold; margin-right: 10px; }
        #slide18_nn .uranium::before { content: "235"; position: absolute; top: -10px; left: 0; font-size: 0.7rem; }
        #slide18_nn .beamer-block ul { list-style-type: disc; margin-left: 1.5rem; }

        /* --- Slide 19: Nueva - Aplicaciones en Ciencias Naturales y Ambientales --- */
        #slide19_nn .molecules { opacity: 0.08; }
        #slide19_nn .title { font-size: 2.5rem; }
        #slide19_nn .columns-container { display: flex; gap: 1.5rem; }
        #slide19_nn .column { flex: 1; }
        #slide19_nn .beamer-block ul { list-style-type: disc; margin-left: 1.5rem; }
        #slide19_nn .block-title-geo { font-size: 1.2rem; font-weight: 600; color: #8B4513; margin-bottom: 0.5rem; padding-left: 10px; border-left: 3px solid #8B4513; }
        #slide19_nn .block-title-bio { font-size: 1.2rem; font-weight: 600; color: #228B22; margin-bottom: 0.5rem; padding-left: 10px; border-left: 3px solid #228B22; }
        #slide19_nn .placeholder-collage { text-align: center; margin-top: 1rem; color: #555; font-style: italic;}

        /* --- Slide 20: Nueva - Ley de Graham en la Vida Cotidiana --- */
        #slide20_nn .molecules { opacity: 0.08; }
        #slide20_nn .title { font-size: 2.5rem; }
        #slide20_nn .life-item { background: rgba(255,255,255,0.8); padding: 1rem 1.5rem; border-radius: 10px; margin-bottom: 1rem; display: flex; align-items: center; box-shadow: 0 3px 7px rgba(0,0,0,0.07); transition: transform 0.2s ease; }
        #slide20_nn .life-item:hover { transform: scale(1.02); }
        #slide20_nn .life-item i { font-size: 1.8rem; margin-right: 1rem; width: 40px; text-align: center; }
        #slide20_nn .icon-kitchen { color: #e67e22; }
        #slide20_nn .icon-tire { color: #34495e; }
        #slide20_nn .icon-spray { color: #9b59b6; }
        #slide20_nn .icon-lungs { color: #e74c3c; }
        #slide20_nn .placeholder-photos { text-align: center; margin-top: 1rem; color: #555; font-style: italic;}

        /* --- Slide 21 (antes Slide 15): Factores que Afectan y Limitaciones --- */
        #slide21_nn .molecules { opacity: 0.06; }
        #slide21_nn .title { font-size: 2.5rem; }
        #slide21_nn .factor-card { border-radius: 12px; transition: transform 0.3s ease, box-shadow 0.3s ease; position: relative; overflow: hidden; background: rgba(255, 255, 255, 0.85); box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1); }
        #slide21_nn .factor-card:hover { transform: translateY(-5px); box-shadow: 0 12px 20px rgba(0, 0, 0, 0.15); }
        #slide21_nn .factor-icon { width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem; background: white; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
        #slide21_nn .temperature-icon { background: linear-gradient(45deg, #ff7e5f, #feb47b); }
        #slide21_nn .pressure-icon { background: linear-gradient(45deg, #78ffd6, #a8ff78); }
        #slide21_nn .size-icon { background: linear-gradient(45deg, #56ccf2, #2f80ed); }
        #slide21_nn .molecular-icon { background: linear-gradient(45deg, #bc4e9c, #f80759); }
        #slide21_nn .medium-icon { background: linear-gradient(45deg, #4776e6, #8e54e9); }
        #slide21_nn .limitation-header { position: relative; margin-bottom: 2rem; }
        #slide21_nn .limitation-header h2 { font-size: 2rem; font-weight: 700; color: #0ca3a3; }
        #slide21_nn .limitation-header::before { content: ""; position: absolute; bottom: -10px; left: 0; width: 80px; height: 4px; background: linear-gradient(90deg, #034f84, #1a6ea0); border-radius: 2px; }

        /* --- Slide 22: Nueva - Más Allá de Graham: Modelos Avanzados --- */
        #slide22_nn .molecules { opacity: 0.08; }
        #slide22_nn .advanced-model-item { background: rgba(255,255,255,0.7); padding: 1rem; border-radius: 8px; margin-bottom: 0.75rem; border-left: 4px solid #0ca3a3; }
        #slide22_nn .advanced-model-item strong { color: #034f84; }
        #slide22_nn .alert-box-beyond { background-color: rgba(230, 247, 255, 0.7); border-left: 4px solid #3b82f6; padding: 1rem; border-radius: 8px; margin-top: 1.5rem; }

        /* --- Slide 23 (antes Slide 16): Resumen Clave --- */
        #slide23_nn .molecules { opacity: 0.06; }
        #slide23_nn .title { font-size: 2.5rem; }
        #slide23_nn .formula-box { background: white; border-radius: 15px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); position: relative; overflow: hidden; border: 2px solid rgba(26, 110, 160, 0.5); padding: 1.5rem; }
        #slide23_nn .formula-box::before { content: ""; position: absolute; top: 0; left: 0; width: 100%; height: 8px; background: linear-gradient(90deg, #034f84, #1a6ea0, #0ca3a3); }
        #slide23_nn .formula-box .formula { font-family: 'Times New Roman', serif; font-weight: bold; font-size: 3rem; background: transparent; padding:0; }
        #slide23_nn .key-point { border-radius: 12px; transition: transform 0.3s ease; position: relative; overflow: hidden; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08); background: rgba(255, 255, 255, 0.9); }
        #slide23_nn .key-point:hover { transform: translateY(-5px); }
        #slide23_nn .key-point-icon { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-bottom: 0.5rem; background: white; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); }
        #slide23_nn .point-1 { background: linear-gradient(45deg, #3498db, #2980b9); }
        #slide23_nn .point-2 { background: linear-gradient(45deg, #2ecc71, #27ae60); }
        #slide23_nn .point-3 { background: linear-gradient(45deg, #9b59b6, #8e44ad); }
        #slide23_nn .point-4 { background: linear-gradient(45deg, #f1c40f, #f39c12); }

        /* --- Slide 24 (antes Slide 17): Conclusión --- */
        #slide24_nn .molecules { opacity: 0.07; }
        #slide24_nn .molecule { position: absolute; border-radius: 50%; animation: s17-float 20s infinite ease-in-out; opacity: 0.6; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); }
        #slide24_nn .molecule::before { content: ""; position: absolute; top: 50%; left: 50%; width: 40%; height: 40%; border-radius: 50%; background: rgba(255, 255, 255, 0.7); transform: translate(-50%, -50%); }
        #slide24_nn .title { font-size: 3.2rem; animation: s17-glow-title 3s ease-in-out infinite alternate; }
        #slide24_nn .conclusion-box { background: rgba(255, 255, 255, 0.9); border-radius: 15px; box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1); overflow: hidden; border-left: 6px solid #1a6ea0; }
        #slide24_nn .visual-element { position: relative; overflow: hidden; transition: all 0.3s ease; }
        #slide24_nn .visual-element:hover { transform: scale(1.03); box-shadow: 0 14px 28px rgba(0, 0, 0, 0.15); }
        #slide24_nn .visual-card { border-radius: 12px; background: linear-gradient(to bottom right, white, #f8f9fa); overflow: hidden; box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08); border-top: 4px solid #1a6ea0; }
        #slide24_nn .atom-orbit { position: absolute; border: 2px dashed rgba(26, 110, 160, 0.3); border-radius: 50%; animation: s17-spin 15s linear infinite; }
        #slide24_nn .highlight-text { background: linear-gradient(120deg, #d4f1f9 0%, #d4f1f9 100%); background-repeat: no-repeat; background-size: 100% 40%; background-position: 0 90%; }

        /* --- Slide 25: Nueva - Preguntas y Evaluación (y Agradecimiento) --- */
        #slide25_nn .molecules { opacity: 0.05; }
        #slide25_nn .qa-section { background: rgba(255,255,255,0.8); padding: 2rem; border-radius: 12px; margin-bottom: 1.5rem; box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        #slide25_nn .qa-section h3 { font-size: 1.5rem; color: #034f84; font-weight: 600; margin-bottom: 1rem; }
        #slide25_nn .quiz-placeholder { border: 2px dashed #0ca3a3; padding: 2rem; text-align: center; color: #0ca3a3; font-style: italic; border-radius: 8px; background-color: rgba(12, 163, 163, 0.05); }
        #slide25_nn .thank-you-message { font-size: 2.5rem; font-weight: bold; color: #1a6ea0; margin-top: 2rem; text-align: center; animation: s25-thankyou-pulse 2s infinite ease-in-out; }
        #slide25_nn .contact-info { text-align: center; margin-top: 1rem; color: #555; font-style: italic; }

    </style>
</head>
<body>
    <div class="slide-container">

        <!-- SLIDE 1: Nueva - Diapositiva de Título y Autor -->
        <div id="slide1_nn" class="slide-content active"> <!-- 'active' para mostrar la primera slide -->
            <div class="slide flex flex-col items-center justify-center text-center p-10">
                <!-- Animated background molecules -->
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 70px; height: 70px; top: 15%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 90px; height: 90px; top: 60%; left: 75%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 50px; height: 50px; top: 70%; left: 10%; animation-delay: 2s;"></div>
                    <div class="molecule bg-purple-300" style="width: 80px; height: 80px; top: 25%; left: 85%; animation-delay: 3s;"></div>
                </div>

                <div class="content-wrapper z-10">
                    <h1 class="title font-bold mb-2">Ley de Graham: El Movimiento de los Gases</h1>
                    <p class="subtitle text-2xl text-gray-700 mb-10">Una exploración interactiva de la efusión y difusión gaseosa</p>
                    
                    <p class="author-info text-xl">Alberto Albesa</p>
                    <p class="author-info text-lg">Facultad de Ciencias Naturales y Museo - UNLP</p>
                    
                    <p class="text-gray-600 mt-12 text-lg">
                        <i class="far fa-calendar-alt mr-2"></i> <span id="currentDate"></span>
                    </p>

                </div>
            </div>
        </div> <!-- Fin de #slide1_nn -->

        <!-- SLIDE 2: Nueva - Agenda de la Clase -->
        <div id="slide2_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start p-10">
                <div class="molecules">
                    <div class="molecule bg-blue-300" style="width: 40px; height: 40px; top: 80%; left: 10%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-300" style="width: 50px; height: 50px; top: 10%; left: 30%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-300" style="width: 30px; height: 30px; top: 75%; left: 80%; animation-delay: 2s;"></div>
                </div>
                <div class="content-wrapper w-full max-w-4xl mx-auto">
                    <h2 class="frametitle text-center mb-10">Agenda de la Clase</h2>
                    <ul class="space-y-3 text-lg">
                        <li><i class="fas fa-wind"></i> Recordando los Gases: Propiedades Esenciales.</li>
                        <li><i class="fas fa-eye"></i> Observaciones iniciales: ¿Cómo se mueven los gases?</li>
                        <li><i class="fas fa-user-tie"></i> Thomas Graham: El Científico.</li>
                        <li><i class="fas fa-lightbulb"></i> Conceptos Fundamentales: Difusión vs. Efusión.</li>
                        <li><i class="fas fa-balance-scale-right"></i> La Ley de Graham: Enunciado y Significado.</li>
                        <li><i class="fas fa-atom"></i> Base Teórica: La Teoría Cinético-Molecular.</li>
                        <li><i class="fas fa-square-root-alt"></i> La Fórmula: Desglose y Exploración.</li>
                        <li><i class="fas fa-flask"></i> Ejemplos Visuales y Aplicaciones.</li>
                        <li><i class="fas fa-calculator"></i> Resolución de Problemas.</li>
                        <li><i class="fas fa-home"></i> Ley de Graham en la Vida Cotidiana.</li>
                        <li><i class="fas fa-exclamation-triangle"></i> Limitaciones y Consideraciones.</li>
                        <li><i class="fas fa-microscope"></i> Más Allá de Graham: Modelos Avanzados.</li>
                        <li><i class="fas fa-check-circle"></i> Conclusiones y Relevancia.</li>
                        <li><i class="fas fa-question-circle"></i> Evaluación Rápida.</li>
                    </ul>
                </div>
            </div>
        </div> <!-- Fin de #slide2_nn -->

        <!-- SLIDE 3: Nueva - Recordando los Gases -->
<div id="slide3_nn" class="slide-content">
    <div class="slide flex flex-col items-center justify-start p-10">
        <div class="molecules">
              <div class="molecule bg-red-300" style="width: 45px; height: 45px; top: 20%; left: 80%; animation-delay: 0.5s;"></div>
              <div class="molecule bg-yellow-300" style="width: 55px; height: 55px; top: 60%; left: 20%; animation-delay: 1.5s;"></div>
        </div>
        <div class="content-wrapper w-full max-w-5xl mx-auto">
            <h2 class="frametitle text-center">Un Breve Repaso sobre los Gases</h2>
            <p class="framesubtitle text-center mb-8">Propiedades Clave</p>
            <div class="columns-container mb-6">
                <div class="column">
                    <div class="beamer-block">
                        <h3 class="block-title">Características</h3>
                        <ul class="text-gray-700 space-y-2">
                            <li>Expansibilidad y Compresibilidad.</li>
                            <li>Baja Densidad.</li>
                            <li>Movimiento Molecular Constante.</li>
                        </ul>
                    </div>
                </div>
                <div class="column">
                    <div class="beamer-block">
                        <h3 class="block-title">Variables y Propiedades</h3>
                        <ul class="text-gray-700 space-y-2">
                            <li>Variables de Estado: P, V, T, n.</li>
                            <li>Masa Molar (M): Crucial para Ley de Graham.</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="animation-wrapper">
                <h3 class="text-xl font-semibold text-gray-700 mb-3">Visualización del Comportamiento Gaseoso</h3>
                <canvas id="gasCanvas_s3" width="550" height="300"></canvas>
                <p id="gasAnimationLabel_s3" class="mt-2 mb-3">Presiona Iniciar</p>
                <div class="mt-2">
                    <button id="playPauseGasAnimation_s3" class="control-button-s3">
                        <i class="fas fa-play"></i>Iniciar
                    </button>
                    <button id="resetGasAnimation_s3" class="control-button-s3">
                        <i class="fas fa-redo"></i>Reiniciar
                    </button>
                </div>
            </div>
        </div>
    </div>
</div> <!-- Fin de #slide3_nn -->

        <!-- SLIDE 4: Nueva - Observaciones Iniciales - ¿Cómo se mueven? -->
        <div id="slide4_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-center p-10 text-center">
                 <div class="molecules">
                    <div class="molecule bg-indigo-400" style="width: 60px; height: 60px; top: 50%; left: 5%; animation-delay: 0.2s;"></div>
                    <div class="molecule bg-pink-400" style="width: 60px; height: 60px; top: 50%; right: 5%; animation-delay: 0.8s;"></div>
                </div>
                <div class="content-wrapper w-full max-w-3xl mx-auto">
                    <h2 class="frametitle mb-12">Observaciones Iniciales</h2>
                    <div class="observation-text mb-10">
                        <p>Si abrimos un frasco de perfume en una esquina de una habitación y un globo con un pequeño agujero en la otra...</p>
                        <p class="mt-6 font-semibold text-blue-600">¿Qué sucede? ¿Cómo llegan esos olores o gases hasta nosotros?</p>
                    </div>
                    <div class="icon-pair flex justify-center items-center text-blue-400">
                        <i class="fas fa-spray-can"></i>
                        <i class="fas fa-arrow-right text-3xl mx-6"></i>
                        <i class="fas fa-question"></i>
                        <i class="fas fa-arrow-left text-3xl mx-6"></i>
                        <i class="fas fa-golf-ball"></i> <!-- Simula un globo -->
                    </div>
                    <p class="mt-8 text-gray-600 italic">Este el tipo de preguntas que nos llevan a explorar la difusión y la efusión.</p>
                </div>
            </div>
        </div> <!-- Fin de #slide4_nn -->

        <!-- SLIDE 5 (antes Slide 1): Thomas Graham -->

        <!-- SLIDE 5 (antes Slide 1): Thomas Graham -->
        <div id="slide5_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <!-- Animated background molecules -->
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 50px; height: 50px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 30px; height: 30px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-300" style="width: 45px; height: 45px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-green-300" style="width: 55px; height: 55px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>

                <!-- Main content -->
                <div class="content-wrapper w-full px-12 py-8">
                    <h1 class="frametitle font-bold mb-8 text-center">El Padre de la Química Coloidal</h1> <!-- Usando frametitle pero manteniendo el estilo original -->
                    
                    <div class="flex">
                        <!-- Left column - Portrait and dates -->
                        <div class="w-1/3 flex flex-col items-center justify-start">
                            <img src="Thomas_Graham.jpg" alt="Thomas Graham" class="portrait w-64 h-auto mb-6">
                            <div class="dates text-center text-xl font-bold">
                                Thomas Graham
                                <div class="text-lg font-normal">1805 - 1869</div>
                            </div>
                        </div>
                        
                        <!-- Right column - Biography and contributions -->
                        <div class="w-2/3 pl-8">
                            <div class="bg-white bg-opacity-75 p-6 rounded-lg shadow-lg mb-8"> <!-- Estilo de card original -->
                                <h2 class="text-2xl font-semibold text-teal-700 mb-3">
                                    <i class="fas fa-book-open mr-2"></i>Biografía
                                </h2>
                                <ul class="text-gray-700 text-lg space-y-2">
                                    <li><i class="fas fa-graduation-cap text-blue-500 mr-2"></i>Químico escocés nacido en Glasgow</li>
                                    <li><i class="fas fa-university text-blue-500 mr-2"></i>Profesor de Química en la Universidad de Glasgow y Londres</li>
                                    <li><i class="fas fa-award text-blue-500 mr-2"></i>Primer presidente de la Chemical Society of London</li>
                                    <li><i class="fas fa-landmark text-blue-500 mr-2"></i>Director de la Casa de la Moneda Real Británica (1855-1869)</li>
                                </ul>
                            </div>
                            
                            <div class="bg-white bg-opacity-75 p-6 rounded-lg shadow-lg"> <!-- Estilo de card original -->
                                <h2 class="text-2xl font-semibold text-teal-700 mb-4">
                                    <i class="fas fa-flask mr-2"></i>Principales Contribuciones
                                </h2>
                                <div class="space-y-4">
                                    <div class="contribution-item pl-4">
                                        <h3 class="text-xl font-semibold text-blue-600">Ley de Graham (1829)</h3>
                                        <p class="text-gray-700">Estableció la relación entre la velocidad de difusión de los gases y su masa molecular</p>
                                    </div>
                                    
                                    <div class="contribution-item pl-4">
                                        <h3 class="text-xl font-semibold text-blue-600">Diálisis (1861)</h3>
                                        <p class="text-gray-700">Desarrolló la técnica de diálisis para separar sustancias en solución</p>
                                    </div>
                                    
                                    <div class="contribution-item pl-4">
                                        <h3 class="text-xl font-semibold text-blue-600">Química de Coloides</h3>
                                        <p class="text-gray-700">Acuñó los términos "coloide" y "cristaloide"</p>
                                        <p class="text-gray-700">Distinguió entre soluciones coloidales y cristalinas</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide5_nn -->
 <!-- Fin de #slide5_nn -->

             <!-- SLIDE 6 (antes Slide 2): Conceptos Clave - Movimiento de Gases -->
<div id="slide6_nn" class="slide-content"> 
    <div class="slide"> <div class="molecules">
            <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
            <div class="molecule bg-green-400" style="width: 50px; height: 50px; top: 70%; left: 40%; animation-delay: -1s;"></div>
            <div class="molecule bg-teal-300" style="width: 35px; height: 35px; top: 25%; left: 75%; animation-delay: -3s;"></div>
        </div>

        <div class="content-wrapper w-full px-4 sm:px-8 py-6"> <h1 class="title font-bold mb-6 text-center">¿Cómo se Mueven los Gases?</h1>
            
            <div class="intro bg-white bg-opacity-75 p-3 sm:p-4 rounded-lg shadow-md mb-4 sm:mb-6">
                <p class="text-base sm:text-lg text-center text-gray-700">
                    <i class="fas fa-wind text-blue-500 mr-2"></i>
                    Los gases tienden a ocupar todo el volumen disponible. Su movimiento se describe principalmente por dos fenómenos: <span class="font-bold text-blue-600">Difusión</span> y <span class="font-bold text-green-600">Efusión</span>.
                </p>
            </div>
            
            <div class="flex flex-col xl:flex-row gap-4 sm:gap-6">
                <div class="simulation-container flex-1">
                    <h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-3 text-center">Difusión de Gases</h2>
                    <p class="text-xs sm:text-sm text-gray-600 text-center mb-2 sm:mb-4">
                        Observa cómo gases de diferentes masas se mezclan a distintas velocidades.
                    </p>
                    <div class="gas-selector-container text-xs sm:text-sm">
                        <div>
                            <label for="selectGasA_s6">Gas A (Izq.):</label>
                            <select id="selectGasA_s6" class="gas-selector"></select>
                        </div>
                        <div>
                            <label for="selectGasB_s6">Gas B (Der.):</label>
                            <select id="selectGasB_s6" class="gas-selector"></select>
                        </div>
                    </div>
                    <canvas id="diffusionCanvas_s6" width="600" height="250"></canvas>
                    <div class="particle-info text-xs sm:text-sm">
                        <div class="particle-legend">
                            <span id="gasADot_s6" class="particle-dot"></span> <span id="gasAName_s6">Gas A</span>
                        </div>
                        <div class="particle-legend">
                            <span id="gasBDot_s6" class="particle-dot"></span> <span id="gasBName_s6">Gas B</span>
                        </div>
                    </div>
                    <div class="text-center mt-3 sm:mt-4">
                        <button id="startDiffusion_s6" class="btn btn-primary text-sm sm:text-base"><i class="fas fa-play mr-1"></i>Iniciar Difusión</button>
                    </div>
                    <p id="diffusionExplanation_s6" class="explanation text-center text-xs sm:text-sm"></p>
                </div>

                <div class="simulation-container flex-1">
                    <h2 class="text-xl sm:text-2xl font-semibold text-gray-700 mb-3 text-center">Efusión de Gases</h2>
                    <p class="text-xs sm:text-sm text-gray-600 text-center mb-2 sm:mb-4">
                        Observa cómo un gas escapa a través de un pequeño orificio. Los gases más ligeros escapan más rápido.
                    </p>
                    <div class="gas-selector-container text-xs sm:text-sm">
                        <div>
                            <label for="selectGasEffusion_s6">Seleccionar Gas:</label>
                            <select id="selectGasEffusion_s6" class="gas-selector"></select>
                        </div>
                    </div>
                    <canvas id="effusionCanvas_s6" width="400" height="200"></canvas>
                    <div class="particle-info text-xs sm:text-sm">
                        <div class="particle-legend">
                            <span id="gasEffusionDot_s6" class="particle-dot"></span> <span id="gasEffusionName_s6">Gas</span>
                        </div>
                        <p id="effusionParticleCount_s6" class="text-xs sm:text-sm text-gray-600"></p>
                    </div>
                    <div class="text-center mt-3 sm:mt-4">
                        <button id="startEffusion_s6" class="btn btn-primary text-sm sm:text-base"><i class="fas fa-play mr-1"></i>Iniciar Efusión</button>
                    </div>
                    <p id="effusionExplanation_s6" class="explanation text-center text-xs sm:text-sm"></p>
                </div>
            </div>
        </div>
    </div>
</div> <!-- Fin de #slide6_nn -->

        <!-- SLIDE 7 (antes Slide 3): Difusión - Ejemplo Visual -->
        <div id="slide7_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-purple-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-blue-400" style="width: 50px; height: 50px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 30px; height: 30px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-purple-300" style="width: 45px; height: 45px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-blue-300" style="width: 55px; height: 55px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">Difusión en Acción</h1>
                    <div class="flex mb-6">
                        <div class="w-3/5">
                            <div class="perfume-container bg-white bg-opacity-60 rounded-xl shadow-lg overflow-hidden relative">
                                <div class="absolute inset-0 border-8 border-gray-200 rounded-xl"></div>
                                <img src="https://www.lamanzanadenewton.com/materiales/aplicaciones/ltc/la_teoria_cinetica_html_files/8471.jpg" alt="Difusión de perfume" class="perfume-bottle">
                                <div class="absolute top-4 right-4 bg-white bg-opacity-80 px-3 py-2 rounded-lg shadow-sm text-gray-700 text-sm">
                                    <div class="flex items-center">
                                        <span class="inline-block w-3 h-3 bg-purple-500 rounded-full mr-2"></span>
                                        <span>Moléculas de perfume</span>
                                    </div>
                                    <div class="flex items-center mt-1">
                                        <span class="inline-block w-3 h-3 bg-blue-200 rounded-full mr-2"></span>
                                        <span>Moléculas de aire</span>
                                    </div>
                                </div>
                                <div class="absolute bottom-0 left-0 w-full h-6 bg-gray-800 bg-opacity-30 flex items-center">
                                    <div class="h-full w-1/4 bg-gradient-to-r from-purple-500 to-purple-600 opacity-70"></div>
                                    <div class="absolute left-1/4 text-xs text-white bg-gray-800 px-2 py-1 rounded-sm transform -translate-y-full -translate-x-1/2">
                                        Tiempo transcurrido
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w-2/5 pl-8">
                            <div class="space-y-6">
                                <div class="info-card bg-white bg-opacity-90 p-5 rounded-lg shadow-md">
                                    <div class="flex items-center mb-3">
                                        <div class="step-number">1</div>
                                        <h3 class="text-xl font-semibold text-purple-700">Al abrir un frasco de perfume...</h3>
                                    </div>
                                    <p class="text-gray-700">
                                        Las moléculas volátiles del perfume comienzan a escapar del recipiente hacia el aire circundante.
                                    </p>
                                </div>
                                <div class="info-card bg-white bg-opacity-90 p-5 rounded-lg shadow-md">
                                    <div class="flex items-center mb-3">
                                        <div class="step-number">2</div>
                                        <h3 class="text-xl font-semibold text-purple-700">Movimiento aleatorio</h3>
                                    </div>
                                    <p class="text-gray-700">
                                        Las moléculas del perfume se mueven aleatoriamente debido a su energía cinética, mezclándose con las moléculas del aire.
                                    </p>
                                </div>
                                <div class="info-card bg-white bg-opacity-90 p-5 rounded-lg shadow-md">
                                    <div class="flex items-center mb-3">
                                        <div class="step-number">3</div>
                                        <h3 class="text-xl font-semibold text-purple-700">Mezcla homogénea</h3>
                                    </div>
                                    <p class="text-gray-700">
                                        Con el tiempo, las moléculas se distribuyen uniformemente por toda la habitación, creando una mezcla homogénea.
                                    </p>
                                </div>
                                <div class="bg-purple-100 p-4 rounded-lg border-l-4 border-purple-500">
                                    <div class="flex items-start">
                                        <i class="fas fa-lightbulb text-purple-500 text-xl mt-1 mr-3"></i>
                                        <p class="text-purple-700">
                                            <span class="font-bold">Proceso espontáneo:</span> La difusión ocurre naturalmente como resultado del movimiento aleatorio de las partículas, sin necesidad de intervención externa.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-blue-600 bg-opacity-90 text-white p-4 rounded-lg shadow-lg">
                        <div class="flex items-center">
                            <i class="fas fa-info-circle text-2xl mr-4"></i>
                            <p class="text-lg">
                                <span class="font-bold">¿Lo sabías?</span> La velocidad de difusión depende de la masa molecular. Las moléculas más ligeras como el amoníaco (NH<sub>3</sub>, 17 g/mol) se difunden más rápido que las más pesadas como las fragancias (≈100-300 g/mol).
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide7_nn -->

        <!-- SLIDE 8 (antes Slide 4): Efusión - Ejemplo Visual -->
        <div id="slide8_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-300" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-yellow-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 35px; height: 35px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-400" style="width: 25px; height: 25px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-yellow-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">Efusión en Acción</h1>
                    <div class="flex mb-6">
                        <div class="w-3/5">
                            <div class="balloon-container bg-white bg-opacity-60 rounded-xl shadow-lg overflow-hidden relative">
                                <div class="absolute inset-0 border-8 border-gray-200 rounded-xl"></div>
                                <div class="balloon">
                                    <div class="pore"></div>
                                </div>
                                <div class="absolute top-4 right-4 bg-white bg-opacity-80 px-3 py-2 rounded-lg shadow-sm text-gray-700 text-sm">
                                    <div class="flex items-center">
                                        <span class="inline-block w-3 h-3 bg-yellow-400 rounded-full mr-2"></span>
                                        <span>Helio (4 g/mol)</span>
                                    </div>
                                    <div class="flex items-center mt-1">
                                        <span class="inline-block w-3 h-3 bg-red-500 rounded-full mr-2"></span>
                                        <span>Oxígeno (32 g/mol)</span>
                                    </div>
                                </div>
                            </div>
                            <div class="comparison-container mt-4 p-4">
                                <h3 class="text-center text-blue-700 font-semibold mb-2">Comparación de Velocidades</h3>
                                <div class="particle-track"></div>
                                <div class="moving-particle helium-particle"></div>
                                <div class="moving-particle oxygen-particle"></div>
                                <div class="absolute left-3 top-1/2 transform -translate-y-1/2 text-xs">
                                    <span class="inline-block w-3 h-3 bg-yellow-400 rounded-full mr-1"></span>
                                    <span>He</span>
                                </div>
                                <div class="absolute left-3 top-1/2 transform translate-y-4 text-xs">
                                    <span class="inline-block w-3 h-3 bg-red-500 rounded-full mr-1"></span>
                                    <span>O₂</span>
                                </div>
                                <div class="absolute right-10 top-1/2 transform -translate-y-1/2 text-sm">
                                    El helio (más ligero) efunde ~2.8 veces más rápido que el oxígeno.
                                </div>
                            </div>
                        </div>
                        <div class="w-2/5 pl-8">
                            <div class="space-y-6">
                                <div class="info-card bg-white bg-opacity-90 p-5 rounded-lg shadow-md">
                                    <div class="flex items-center mb-3">
                                        <div class="step-number">1</div>
                                        <h3 class="text-xl font-semibold text-blue-700">El Proceso de Efusión</h3>
                                    </div>
                                    <p class="text-gray-700">
                                        Un globo inflado con helio tiene microporos en su superficie. Las moléculas de helio escapan a través de estos poros hacia el exterior debido a la diferencia de presión.
                                    </p>
                                </div>
                                <div class="info-card bg-white bg-opacity-90 p-5 rounded-lg shadow-md">
                                    <div class="flex items-center mb-3">
                                        <div class="step-number">2</div>
                                        <h3 class="text-xl font-semibold text-blue-700">Escape Molecular</h3>
                                    </div>
                                    <p class="text-gray-700">
                                        Las moléculas de gas que golpean el poro con suficiente energía cinética pueden escapar. Al ser más ligeras, las moléculas de helio tienen mayor velocidad media que otras moléculas a la misma temperatura.
                                    </p>
                                </div>
                                <div class="info-card bg-white bg-opacity-90 p-5 rounded-lg shadow-md">
                                    <div class="flex items-center mb-3">
                                        <div class="step-number">3</div>
                                        <h3 class="text-xl font-semibold text-blue-700">Velocidad de Efusión</h3>
                                    </div>
                                    <p class="text-gray-700">
                                        La velocidad de escape del gas depende principalmente de su masa molar. Según la Ley de Graham, esta velocidad es inversamente proporcional a la raíz cuadrada de su masa molar.
                                    </p>
                                </div>
                                <div class="bg-blue-100 p-4 rounded-lg border-l-4 border-blue-500">
                                    <div class="flex items-start">
                                        <i class="fas fa-lightbulb text-blue-500 text-xl mt-1 mr-3"></i>
                                        <p class="text-blue-700">
                                            <span class="font-bold">¿Por qué se desinfla un globo de helio más rápido?</span> El helio (4 g/mol) es aproximadamente 7 veces más ligero que el aire (29 g/mol), por lo que efunde ~2.7 veces más rápido a través de los microporos del globo.
                                        </p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide8_nn -->

        <!-- SLIDE 9 (antes Slide 5): La Ley de Graham - Enunciado -->
        <!-- SLIDE 9 (antes Slide 5): La Ley de Graham - Enunciado -->
        <div id="slide9_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-300" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-yellow-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 35px; height: 35px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-400" style="width: 25px; height: 25px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-yellow-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-8 text-center">¿Qué Establece la Ley de Graham?</h1>
                    <div class="law-box bg-gradient-to-r from-blue-50 to-teal-50 p-6 mx-auto max-w-4xl text-center">
                        <p class="text-2xl text-blue-800 font-semibold italic mb-2">
                            "A temperatura y presión constantes, la velocidad de efusión (o difusión) de un gas es inversamente proporcional a la raíz cuadrada de su masa molar."
                        </p>
                        <div class="formula text-3xl my-4 italic">
                            <span class="text-blue-700">v ∝ </span>
                            <span class="text-blue-700">1/√M</span>
                        </div>
                        <div class="text-lg text-blue-600">Donde v es la velocidad de efusión o difusión y M es la masa molar</div>
                    </div>
                    <div class="flex mt-8 mx-auto max-w-5xl">
                        <div class="w-3/5 pr-6">
                            <div class="inverse-relation">
                               
                                <div class="axis x-axis"></div>
                                <div class="axis y-axis"></div>
                                
                               
                                <div class="curve">
                                    <svg width="100%" height="100%" viewBox="0 0 100 100" preserveAspectRatio="none">
                               
                                        <path d="M 5,5 Q 25,75 95,95" class="curve-line"></path>
                                    </svg>
                                </div>

                               
                                <div class="axis-label" style="bottom: 20px; left: 50%; transform: translateX(-50%);">Masa Molar (g/mol) →</div>
                                <div class="axis-label" style="top: 45%; left: 10px; transform: translateY(-50%) rotate(-90deg);">Velocidad de Efusión ↑</div>
                                
                               
                                <div class="particle light"></div>
                                <div class="particle heavy"></div>
                                
                               
                                <div class="absolute top-4 right-4 bg-white bg-opacity-80 px-3 py-2 rounded-lg shadow-sm text-sm">
                                    <div class="flex items-center">
                                        <span class="inline-block w-4 h-4 bg-blue-500 rounded-full mr-2"></span>
                                        <span>Gas ligero (menor masa, alta velocidad)</span>
                                    </div>
                                    <div class="flex items-center mt-1">
                                        <span class="inline-block w-4 h-4 bg-red-500 rounded-full mr-2"></span>
                                        <span>Gas pesado (mayor masa, baja velocidad)</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w-2/5 space-y-5">
                            <div class="card p-5">
                                <div class="mb-2 text-xl font-bold text-blue-700">
                                    <i class="fas fa-lightbulb mr-2 text-yellow-400"></i>En palabras más sencillas
                                </div>
                                <ul class="list-disc pl-6 space-y-3">
                                    <li class="text-lg">
                                        <span class="font-semibold text-blue-800">Los gases más ligeros</span> 
                                        (menor masa molar) se mueven (efunden/difunden) 
                                        <span class="font-semibold text-blue-800">más rápido</span>.
                                    </li>
                                    <li class="text-lg">
                                        <span class="font-semibold text-blue-800">Los gases más pesados</span> 
                                        (mayor masa molar) se mueven 
                                        <span class="font-semibold text-blue-800">más lento</span>.
                                    </li>
                                </ul>
                            </div>
                            <div class="card p-5">
                                <div class="mb-2 text-xl font-bold text-blue-700">
                                    <i class="fas fa-flask mr-2 text-green-500"></i>Ejemplo numérico
                                </div>
                                <p class="mb-3">
                                    Si comparamos dos gases, uno con masa molar 4 veces mayor que el otro:
                                </p>
                                <div class="bg-blue-50 p-3 rounded-lg text-center">
                                    <div class="text-lg font-semibold mb-2">El gas más ligero se moverá:</div>
                                    <div class="text-3xl font-bold text-blue-700">
                                        2 veces más rápido
                                    </div>
                                    <div class="italic text-sm text-blue-600 mt-2">
                                        (porque √4 = 2)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide9_nn --><!-- Fin de #slide9_nn -->

        <!-- SLIDE 10 (antes Slide 6): Base Teórica - TCM -->
        <div id="slide10_nn" class="slide-content">
             <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-300" style="width: 35px; height: 35px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-green-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">¿Por Qué Sucede Esto? La TCM Explica</h1>
                    <div class="particle-container mb-8">
                        <div class="particle" style="background: #3498db; top: 50px; left: 50px; animation-delay: 0s; animation-duration: 8s;"></div>
                        <div class="particle" style="background: #e74c3c; top: 100px; left: 200px; animation-delay: 1s; animation-duration: 7s; width: 18px; height: 18px;"></div>
                        <div class="particle" style="background: #2ecc71; top: 150px; left: 100px; animation-delay: 2s; animation-duration: 12s; width: 10px; height: 10px;"></div>
                        <div class="particle" style="background: #f39c12; top: 80px; left: 300px; animation-delay: 3s; animation-duration: 9s; width: 14px; height: 14px;"></div>
                        <div class="particle" style="background: #9b59b6; top: 30px; left: 400px; animation-delay: 4s; animation-duration: 11s;"></div>
                        <div class="particle" style="background: #34495e; top: 180px; left: 350px; animation-delay: 5s; animation-duration: 10s; width: 16px; height: 16px;"></div>
                        <div class="absolute top-0 left-0 w-full h-full flex items-center justify-center">
                            <div class="bg-white bg-opacity-70 p-4 rounded-lg">
                                <p class="text-2xl font-bold text-blue-800">Teoría Cinético-Molecular de los Gases</p>
                                <p class="text-lg text-blue-700 italic">Partículas en movimiento constante y aleatorio</p>
                            </div>
                        </div>
                    </div>
                    <div class="flex space-x-6">
                        <div class="w-7/12 space-y-4">
                            <div class="principle-card card p-5">
                                <div class="flex items-center mb-2">
                                    <i class="fas fa-atom text-blue-700 text-3xl mr-3"></i>
                                    <h3 class="text-xl font-bold text-blue-800">Principios clave de la TCM</h3>
                                </div>
                                <ul class="space-y-4 pl-4">
                                    <li class="flex">
                                        <i class="fas fa-arrow-right text-teal-600 mt-1 mr-3"></i>
                                        <p>Las partículas de gas están en movimiento <span class="font-semibold">constante, rápido y aleatorio</span>.</p>
                                    </li>
                                    <li class="flex">
                                        <i class="fas fa-arrow-right text-teal-600 mt-1 mr-3"></i>
                                        <p>La energía cinética promedio (<span class="italic">KE<sub>prom</sub></span>) de las partículas de un gas es <span class="font-semibold">directamente proporcional</span> a la temperatura absoluta (<span class="italic">T</span>) del gas.</p>
                                    </li>
                                    <li class="flex highlight-box">
                                        <i class="fas fa-star text-yellow-500 mt-1 mr-3"></i>
                                        <p class="font-semibold">A una misma temperatura, todas las moléculas de diferentes gases tienen la misma energía cinética promedio.</p>
                                    </li>
                                </ul>
                            </div>
                            <div class="card p-5">
                                <div class="flex items-center mb-3">
                                    <i class="fas fa-calculator text-green-600 text-2xl mr-3"></i>
                                    <h3 class="text-xl font-bold text-blue-800">Fórmula de la energía cinética</h3>
                                </div>
                                <div class="formula text-3xl text-center my-2">
                                    <span class="text-blue-700">KE = </span>
                                    <span class="text-blue-700">½ mv<sup>2</sup></span>
                                </div>
                                <div class="flex justify-center space-x-6 mt-3 text-lg">
                                    <span><span class="font-semibold">KE</span> = energía cinética</span>
                                    <span><span class="font-semibold">m</span> = masa</span>
                                    <span><span class="font-semibold">v</span> = velocidad</span>
                                </div>
                            </div>
                        </div>
                        <div class="w-5/12">
                            <div class="card p-5 h-full">
                                <h3 class="text-xl font-bold text-blue-800 mb-3">Misma Temperatura = Misma Energía Cinética</h3>
                                <div>
                                    <div class="flex justify-between mb-1">
                                        <span>Temperatura baja</span>
                                        <span>Temperatura alta</span>
                                    </div>
                                    <div class="temperature-slider">
                                        <div class="slider-thumb"></div>
                                    </div>
                                    <p class="text-center mt-2 font-semibold">Temperatura: 300 K</p>
                                </div>
                                <div class="mt-6">
                                    <h4 class="text-lg font-semibold text-blue-700 mb-3">Comparación de gases a misma temperatura:</h4>
                                    <div class="flex space-x-4 justify-around">
                                        <div class="text-center">
                                            <div class="relative mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center border-2 border-blue-500 mb-2">
                                                <div class="text-blue-700 font-bold">H₂</div>
                                                <div class="absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center">2</div>
                                            </div>
                                            <div class="font-semibold">Gas ligero</div>
                                            <div class="text-sm">(2 g/mol)</div>
                                            <div class="text-sm mt-2">Alta velocidad</div>
                                            <div class="energy-indicator">
                                                <div class="equal-energy" style="bottom: 50px;"></div>
                                                <div class="energy-bar" style="height: 50px; left: 0;"></div>
                                            </div>
                                            <div class="text-xs mt-2">v<sub>rms</sub> = 1930 m/s</div>
                                        </div>
                                        <div class="flex items-center justify-center mt-10">
                                            <div class="text-3xl font-bold text-blue-700">=</div>
                                        </div>
                                        <div class="text-center">
                                            <div class="relative mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center border-2 border-green-500 mb-2">
                                                <div class="text-green-700 font-bold">O₂</div>
                                                <div class="absolute -top-1 -right-1 bg-green-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center">32</div>
                                            </div>
                                            <div class="font-semibold">Gas medio</div>
                                            <div class="text-sm">(32 g/mol)</div>
                                            <div class="text-sm mt-2">Velocidad media</div>
                                            <div class="energy-indicator">
                                                <div class="equal-energy" style="bottom: 50px;"></div>
                                                <div class="energy-bar" style="height: 50px; left: 0; background: linear-gradient(to top, #2ecc71, #27ae60);"></div>
                                            </div>
                                            <div class="text-xs mt-2">v<sub>rms</sub> = 483 m/s</div>
                                        </div>
                                        <div class="flex items-center justify-center mt-10">
                                            <div class="text-3xl font-bold text-blue-700">=</div>
                                        </div>
                                        <div class="text-center">
                                            <div class="relative mx-auto w-16 h-16 bg-red-100 rounded-full flex items-center justify-center border-2 border-red-500 mb-2">
                                                <div class="text-red-700 font-bold">Xe</div>
                                                <div class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-6 h-6 flex items-center justify-center">131</div>
                                            </div>
                                            <div class="font-semibold">Gas pesado</div>
                                            <div class="text-sm">(131 g/mol)</div>
                                            <div class="text-sm mt-2">Baja velocidad</div>
                                            <div class="energy-indicator">
                                                <div class="equal-energy" style="bottom: 50px;"></div>
                                                <div class="energy-bar" style="height: 50px; left: 0; background: linear-gradient(to top, #e74c3c, #c0392b);"></div>
                                            </div>
                                            <div class="text-xs mt-2">v<sub>rms</sub> = 238 m/s</div>
                                        </div>
                                    </div>
                                    <div class="mt-4 text-center text-sm bg-blue-50 p-2 rounded">
                                        <span class="font-semibold">Conclusión clave:</span> A la misma temperatura, menor masa = mayor velocidad,
                                        <br>manteniendo la misma energía cinética promedio (KE<sub>prom</sub> = ½mv<sup>2</sup>)
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide10_nn -->
        <!-- SLIDE 11 (antes Slide 7): Relacionando KE y Velocidad -->
        <div id="slide11_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-300" style="width: 35px; height: 35px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-green-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">Misma Temperatura, Misma Energía Cinética Promedio</h1>
                    <div class="flex space-x-6">
                        <div class="w-1/2">
                            <div class="card p-6 h-full flex flex-col justify-between">
                                <div>
                                    <h3 class="text-xl font-semibold text-blue-800 mb-4">Si tenemos dos gases a la misma temperatura:</h3>
                                    <div class="formula-box mb-6">
                                        <p class="formula text-center text-blue-700 mb-2">KE<sub>prom 1</sub> = KE<sub>prom 2</sub></p>
                                        <div class="text-center text-lg">Las energías cinéticas promedio son iguales</div>
                                    </div>
                                    <div class="formula-box mb-6">
                                        <p class="formula text-center text-blue-700 mb-2">½ M<sub>1</sub>v<sub>1</sub><sup>2</sup> = ½ M<sub>2</sub>v<sub>2</sub><sup>2</sup></p>
                                        <div class="text-center">
                                            <p class="text-sm mt-2"><span class="font-semibold">M</span> = masa molar</p>
                                            <p class="text-sm"><span class="font-semibold">v</span> = velocidad cuadrática media</p>
                                        </div>
                                    </div>
                                    <div class="px-4 py-5 bg-blue-50 rounded-lg">
                                        <div class="text-lg text-blue-800 font-semibold mb-2">Despejando la relación de velocidades:</div>
                                        <div class="space-y-3">
                                            <div class="formula text-center">
                                                v<sub>1</sub><sup>2</sup>/v<sub>2</sub><sup>2</sup> = M<sub>2</sub>/M<sub>1</sub>
                                            </div>
                                            <div class="formula text-center">
                                                v<sub>1</sub>/v<sub>2</sub> = √(M<sub>2</sub>/M<sub>1</sub>)
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="conclusion-box mt-6">
                                    <div class="flex items-center">
                                        <i class="fas fa-lightbulb text-yellow-500 text-2xl mr-3"></i>
                                        <div>
                                            <p class="font-semibold text-blue-800">Implicación clave:</p>
                                            <p>Si M<sub>1</sub> < M<sub>2</sub> (Gas 1 es más ligero), entonces v<sub>1</sub> > v<sub>2</sub> (Gas 1 se mueve más rápido)</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w-1/2">
                            <div class="card p-6 h-full">
                                <h3 class="text-xl font-semibold text-blue-800 mb-6">Visualización: Misma Energía, Diferentes Velocidades</h3>
                                <div class="mb-8">
                                    <div class="text-center text-lg font-semibold mb-2">Energía Cinética Promedio (igual a T = 300K)</div>
                                    <div class="flex justify-center items-center space-x-4">
                                        <div class="text-center w-1/3">
                                            <p class="mb-2">Gas 1 (Ligero)</p>
                                            <div class="energy-bar"></div>
                                        </div>
                                        <div class="text-lg font-bold">=</div>
                                        <div class="text-center w-1/3">
                                            <p class="mb-2">Gas 2 (Pesado)</p>
                                            <div class="energy-bar"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-lg">
                                    <div class="flex items-center mb-8">
                                        <div class="w-1/4">
                                            <div class="molecule-circle bg-blue-200 border-2 border-blue-500 w-24 h-24 mx-auto">
                                                <div class="text-center">
                                                    <div class="text-xl font-bold text-blue-700">H<sub>2</sub></div>
                                                    <div class="text-sm">2 g/mol</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="w-1/2 px-4">
                                            <div class="relative">
                                                <div class="molecule-circle move-fast bg-blue-200 border-2 border-blue-500 w-10 h-10 mb-2">
                                                    <div class="text-xs font-bold text-blue-700">H<sub>2</sub></div>
                                                </div>
                                                <div class="arrow w-full"></div>
                                                <div class="text-center mt-2 font-bold">ALTA VELOCIDAD</div>
                                            </div>
                                        </div>
                                        <div class="w-1/4">
                                            <div class="text-center">
                                                <div class="formula text-blue-700">v<sub>1</sub> ∝ 1/√M<sub>1</sub></div>
                                                <div class="mt-2 text-sm">v<sub>rms</sub> ≈ 1930 m/s</div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-1/4">
                                            <div class="molecule-circle bg-red-200 border-2 border-red-500 w-24 h-24 mx-auto">
                                                <div class="text-center">
                                                    <div class="text-xl font-bold text-red-700">O<sub>2</sub></div>
                                                    <div class="text-sm">32 g/mol</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="w-1/2 px-4">
                                            <div class="relative">
                                                <div class="molecule-circle move-slow bg-red-200 border-2 border-red-500 w-10 h-10 mb-2">
                                                    <div class="text-xs font-bold text-red-700">O<sub>2</sub></div>
                                                </div>
                                                <div class="arrow w-full"></div>
                                                <div class="text-center mt-2 font-bold">BAJA VELOCIDAD</div>
                                            </div>
                                        </div>
                                        <div class="w-1/4">
                                            <div class="text-center">
                                                <div class="formula text-red-700">v<sub>2</sub> ∝ 1/√M<sub>2</sub></div>
                                                <div class="mt-2 text-sm">v<sub>rms</sub> ≈ 483 m/s</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-6 bg-blue-100 p-4 rounded-lg">
                                    <div class="flex items-center">
                                        <i class="fas fa-link text-blue-600 text-2xl mr-3"></i>
                                        <div>
                                            <p class="font-semibold text-blue-800">Relación con la Ley de Graham:</p>
                                            <p class="formula text-center my-2">
                                                <span class="text-blue-700">v<sub>1</sub>/v<sub>2</sub> = √(M<sub>2</sub>/M<sub>1</sub>)</span>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide11_nn -->

        <!-- SLIDE 12 (antes Slide 8): La Fórmula de la Ley de Graham -->
        <!-- SLIDE 12 (antes Slide 8): La Fórmula de la Ley de Graham -->
        <div id="slide12_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-300" style="width: 35px; height: 35px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-green-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-8 text-center">Expresión Matemática</h1>
                    <div class="flex gap-6">
                        <div class="w-2/3">
                            <div class="card p-8 h-full flex flex-col"> {/* Añadido flex flex-col para mejor manejo de altura si es necesario */}
                                <h3 class="text-xl font-semibold text-blue-800 mb-6">Para dos gases, A y B (o 1 y 2), a la misma temperatura y presión:</h3>
                                
                                {/* REEMPLAZO DE LA FÓRMULA HTML POR LA IMAGEN */}
                                <div class="formula-box mb-8 relative flex-grow flex items-center justify-center"> {/* Contenedor para centrar la imagen */}
                                    <div class="glow absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2" style="width: 300px; height: 200px;"></div> {/* Ajustar tamaño del glow si es necesario */}
                                    <img src="formula_ley_de_graham.png" alt="Fórmula de la Ley de Graham: v1/v2 = √(M2/M1)" class="max-w-full h-auto pulsate rounded-lg shadow-md relative z-10" style="max-height: 200px;">
                                    {/* 
                                        Ajusta src="formula_ley_de_graham.png" al nombre y ruta correctos de tu imagen.
                                        Ajusta style="max-height: 200px;" según el tamaño deseado para la imagen.
                                        Puedes usar clases de Tailwind como 'h-48' o 'h-64' en lugar de max-height si prefieres.
                                    */}
                                </div>
                                
                                <div class="mb-6">
                                    <h4 class="text-lg font-semibold text-blue-700 mb-3">También se puede expresar en términos de densidad (ρ):</h4>
                                    <div class="formula-box">
                                        {/* Mantendremos esta fórmula en HTML por ahora, a menos que también quieras reemplazarla */}
                                        <div class="formula medium-formula text-blue-800 text-center">
                                            <div class="flex justify-center items-center">
                                                <div class="text-center">
                                                    v<sub>B</sub> (o v<sub>1</sub>)
                                                    <div class="formula-divider"></div>
                                                    v<sub>A</sub> (o v<sub>2</sub>)
                                                </div>
                                                <div class="mx-6 text-3xl">=</div>
                                                <div class="text-center">
                                                    <div>√</div>
                                                    <div class="inline-block align-middle">
                                                        ρ<sub>A</sub> (o ρ<sub>2</sub>)
                                                        <div class="formula-divider"></div>
                                                        ρ<sub>B</sub> (o ρ<sub>1</sub>)
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <p class="text-center mt-4 text-gray-600">ya que la densidad es proporcional a la masa molar a T y P constantes</p>
                                    </div>
                                </div>
                                <div class="note-box mt-auto"> {/* mt-auto para empujar al final si hay espacio */}
                                    <div class="flex items-start">
                                        <i class="fas fa-exclamation-triangle text-yellow-500 text-2xl mr-3 mt-1"></i>
                                        <div>
                                            <p class="font-bold text-gray-800">¡Importante!</p>
                                            <p>Nótese la relación inversa de las masas molares (o densidades) respecto a las velocidades.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w-1/3">
                            {/* El contenido de la columna derecha no se modifica */}
                            <div class="card p-6 h-full flex flex-col justify-between">
                                <div>
                                    <h3 class="text-xl font-semibold text-blue-800 mb-6 text-center">Relación Inversa</h3>
                                    <div class="bg-blue-100 rounded-lg p-4 mb-8">
                                        <div class="flex items-center justify-between mb-3">
                                            <div class="flex-1">
                                                <div class="text-center">
                                                    <div class="bg-blue-200 rounded-full w-20 h-20 mx-auto flex items-center justify-center border-4 border-blue-400 bounce" style="animation-delay: 0s;">
                                                        <span class="text-2xl font-bold text-blue-700">He</span>
                                                    </div>
                                                    <p class="mt-2 font-semibold text-blue-700">Gas Ligero (ej. Gas 2 o B)</p>
                                                    <p class="text-sm">M<sub>2</sub> = 4 g/mol</p>
                                                </div>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-center">
                                                    <div class="text-lg font-bold mb-1 text-green-700">Velocidad</div>
                                                    <div class="text-4xl font-bold text-green-600">ALTA</div>
                                                    <i class="fas fa-angle-double-right text-5xl text-green-500 mt-2"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="bg-red-100 rounded-lg p-4">
                                        <div class="flex items-center justify-between">
                                            <div class="flex-1">
                                                <div class="text-center">
                                                    <div class="bg-red-200 rounded-full w-20 h-20 mx-auto flex items-center justify-center border-4 border-red-400 bounce" style="animation-delay: 2s;">
                                                        <span class="text-2xl font-bold text-red-700">Xe</span>
                                                    </div>
                                                    <p class="mt-2 font-semibold text-red-700">Gas Pesado (ej. Gas 1 o A)</p>
                                                    <p class="text-sm">M<sub>1</sub> = 131 g/mol</p>
                                                </div>
                                            </div>
                                            <div class="flex-1">
                                                <div class="text-center">
                                                    <div class="text-lg font-bold mb-1 text-yellow-700">Velocidad</div>
                                                    <div class="text-4xl font-bold text-yellow-600">BAJA</div>
                                                    <i class="fas fa-angle-right text-5xl text-yellow-500 mt-2"></i>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="bg-gray-100 p-4 rounded-lg mt-6">
                                    <div class="text-center mb-2 font-bold text-gray-700">
                                        <i class="fas fa-calculator mr-2"></i> Aplicación
                                    </div>
                                    <div class="formula text-center text-blue-800">
                                        v<sub>He</sub>/v<sub>Xe</sub> = √(M<sub>Xe</sub>/M<sub>He</sub>) = √(131/4) ≈ 5.7
                                    </div>
                                    <p class="text-center text-sm mt-2">El helio se mueve aprox. 5.7 veces más rápido que el xenón.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide12_nn -->
<!-- Fin de #slide12_nn -->

        <!-- SLIDE 13 (antes Slide 9): Ejemplo Conceptual - Globos -->
        <div id="slide13_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-300" style="width: 35px; height: 35px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-green-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-8 text-center">¿Por Qué se Desinfla Más Rápido un Globo de Helio?</h1>
                    <div class="flex gap-8">
                        <div class="w-1/2">
                            <div class="card p-6 relative h-full">
                                <h2 class="text-xl text-blue-800 font-bold mb-8 text-center">Comparación Visual</h2>
                                <div class="flex justify-between items-center h-96">
                                    <div class="w-1/2 flex flex-col items-center">
                                        <div class="balloon">
                                            <div class="balloon-body bg-blue-200 w-44 h-44 border-4 border-blue-400 flex items-center justify-center deflate-fast">
                                                <span class="text-3xl font-bold text-blue-800">He</span>
                                                <div class="gas-particle" style="--x: 30px; --y: -50px; width: 8px; height: 8px; top: 30%; left: 90%; animation-delay: 0s;"></div>
                                                <div class="gas-particle" style="--x: 40px; --y: -30px; width: 6px; height: 6px; top: 50%; left: 90%; animation-delay: 0.5s;"></div>
                                                <div class="gas-particle" style="--x: 20px; --y: -40px; width: 7px; height: 7px; top: 70%; left: 90%; animation-delay: 1s;"></div>
                                                <div class="gas-particle" style="--x: -30px; --y: -50px; width: 8px; height: 8px; top: 20%; right: 90%; animation-delay: 1.5s;"></div>
                                                <div class="gas-particle" style="--x: -20px; --y: -40px; width: 6px; height: 6px; top: 40%; right: 90%; animation-delay: 2s;"></div>
                                                <div class="gas-particle" style="--x: -40px; --y: -30px; width: 7px; height: 7px; top: 60%; right: 90%; animation-delay: 2.5s;"></div>
                                            </div>
                                            <div class="balloon-string"></div>
                                        </div>
                                        <div class="mt-4 bg-blue-100 rounded-lg p-4 w-full text-center">
                                            <h3 class="font-bold text-blue-800">Globo de Helio</h3>
                                            <p class="text-sm mt-2">Masa Molar: <span class="font-bold">4 g/mol</span></p>
                                            <div class="mt-3 flex items-center justify-center">
                                                <i class="fas fa-tachometer-alt text-blue-600 text-lg mr-2"></i>
                                                <span class="text-blue-800">Efusión <span class="font-bold">rápida</span></span>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="w-1/2 flex flex-col items-center">
                                        <div class="balloon">
                                            <div class="balloon-body bg-gray-200 w-44 h-44 border-4 border-gray-400 flex items-center justify-center deflate-slow">
                                                <span class="text-3xl font-bold text-gray-700">Aire</span>
                                                <div class="gas-particle" style="--x: 30px; --y: -50px; width: 8px; height: 8px; top: 30%; left: 90%; animation-delay: 0s; animation-duration: 8s;"></div>
                                                <div class="gas-particle" style="--x: 20px; --y: -40px; width: 7px; height: 7px; top: 70%; left: 90%; animation-delay: 3s; animation-duration: 8s;"></div>
                                                <div class="gas-particle" style="--x: -30px; --y: -50px; width: 8px; height: 8px; top: 20%; right: 90%; animation-delay: 5s; animation-duration: 8s;"></div>
                                            </div>
                                            <div class="balloon-string"></div>
                                        </div>
                                        <div class="mt-4 bg-gray-100 rounded-lg p-4 w-full text-center">
                                            <h3 class="font-bold text-gray-700">Globo de Aire</h3>
                                            <p class="text-sm mt-2">Masa Molar promedio: <span class="font-bold">29 g/mol</span></p>
                                            <div class="mt-3 flex items-center justify-center">
                                                <i class="fas fa-tachometer-alt text-gray-500 text-lg mr-2"></i>
                                                <span class="text-gray-700">Efusión <span class="font-bold">lenta</span></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-6 bg-yellow-50 rounded-lg p-4">
                                    <div class="flex items-center justify-center font-bold">
                                        <div class="text-blue-700">Helio</div>
                                        <div class="mx-4 relative w-48 h-8">
                                            <div class="comparison-arrow" style="width: 100%; top: 50%; transform: translateY(-50%);"></div>
                                            <div class="arrow-head"></div>
                                            <div class="absolute -top-6 w-full text-center">
                                                <span class="text-sm font-bold">≈ 2.7 veces más rápido</span>
                                            </div>
                                        </div>
                                        <div class="text-gray-700">Aire</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="w-1/2">
                            <div class="card p-6 h-full flex flex-col">
                                <h2 class="text-xl text-blue-800 font-bold mb-4">Explicación</h2>
                                <div class="grid grid-cols-2 gap-4 mb-6">
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <h3 class="text-blue-800 font-bold text-lg flex items-center">
                                            <i class="fas fa-weight mr-2"></i> Masa Molar
                                        </h3>
                                        <p class="mt-2">El Helio (4 g/mol) es aproximadamente 7 veces más ligero que el aire (29 g/mol).</p>
                                    </div>
                                    <div class="bg-green-50 p-4 rounded-lg">
                                        <h3 class="text-green-800 font-bold text-lg flex items-center">
                                            <i class="fas fa-microscope mr-2"></i> Poros del Globo
                                        </h3>
                                        <p class="mt-2">Los globos contienen microporos por donde las moléculas de gas pueden escapar gradualmente.</p>
                                    </div>
                                </div>
                                <div class="bg-blue-100 p-4 rounded-lg mb-6 pulse-highlight">
                                    <h3 class="text-blue-800 font-bold text-lg flex items-center">
                                        <i class="fas fa-calculator mr-2"></i> Aplicando la Ley de Graham
                                    </h3>
                                    <div class="mt-3 formula text-center text-blue-900 text-xl">
                                        <div>
                                            <span>v<sub>He</sub> / v<sub>aire</sub> = √(M<sub>aire</sub> / M<sub>He</sub>)</span>
                                        </div>
                                        <div class="mt-2">
                                            <span>= √(29 / 4) ≈ √7.25 ≈ 2.7</span>
                                        </div>
                                    </div>
                                    <p class="mt-3 text-center"><strong>El helio efunde 2.7 veces más rápido que el aire</strong></p>
                                </div>
                                <div class="flex-1 bg-gray-50 p-4 rounded-lg">
                                    <h3 class="text-gray-800 font-bold text-lg mb-3">¿Cómo ocurre la efusión?</h3>
                                    <div class="flex items-center mb-4">
                                        <div class="w-1/3">
                                            <div class="bg-blue-200 rounded-full w-20 h-20 mx-auto flex items-center justify-center">
                                                <i class="fas fa-wind text-3xl text-blue-600"></i>
                                            </div>
                                        </div>
                                        <div class="w-2/3">
                                            <p><strong>1.</strong> Las moléculas de gas están en constante movimiento, golpeando las paredes del globo.</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-1/3">
                                            <div class="bg-green-200 rounded-full w-20 h-20 mx-auto flex items-center justify-center">
                                                <i class="fas fa-external-link-alt text-3xl text-green-600"></i>
                                            </div>
                                        </div>
                                        <div class="w-2/3">
                                            <p><strong>2.</strong> Al encontrar un microporo, las moléculas pueden escapar del globo hacia el exterior.</p>
                                        </div>
                                    </div>
                                    <div class="flex items-center">
                                        <div class="w-1/3">
                                            <div class="bg-red-200 rounded-full w-20 h-20 mx-auto flex items-center justify-center">
                                                <i class="fas fa-bolt text-3xl text-red-600"></i>
                                            </div>
                                        </div>
                                        <div class="w-2/3">
                                            <p><strong>3.</strong> A menor masa molar, mayor velocidad de las moléculas y mayor probabilidad de escape.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide13_nn -->

        <!-- SLIDE 14 (antes Slide 10): Ejemplo Conceptual - Olores -->
        <div id="slide14_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-purple-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-300" style="width: 35px; height: 35px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-purple-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">El Viaje de los Aromas</h1>
                    <div class="card mb-6">
                        <div class="room-visualization">
                            <div class="diffusion-container">
                                <div class="diffusion-ammonia"></div>
                                <div class="diffusion-vanillin"></div>
                                <div class="bottle bottle-left">
                                    <div class="bottle-body bg-blue-500"></div>
                                    <div class="bottle-neck bg-blue-600"></div>
                                </div>
                                <div class="bottle bottle-right">
                                    <div class="bottle-body bg-purple-500"></div>
                                    <div class="bottle-neck bg-purple-600"></div>
                                </div>
                                <div class="molecule-particle ammonia-molecule" style="width: 12px; height: 12px; left: 15%; top: 40%; animation-delay: 0.5s;"></div>
                                <div class="molecule-particle ammonia-molecule" style="width: 10px; height: 10px; left: 25%; top: 60%; animation-delay: 1s;"></div>
                                <div class="molecule-particle ammonia-molecule" style="width: 8px; height: 8px; left: 35%; top: 30%; animation-delay: 1.5s;"></div>
                                <div class="molecule-particle vanillin-molecule" style="width: 15px; height: 15px; right: 15%; top: 45%; animation-delay: 2s;"></div>
                                <div class="molecule-particle vanillin-molecule" style="width: 12px; height: 12px; right: 22%; top: 55%; animation-delay: 2.5s;"></div>
                                <i class="fas fa-smog nose-icon pulse"></i>
                            </div>
                        </div>
                    </div>
                    <div class="flex gap-8 mb-6">
                        <div class="card w-1/2 p-6">
                            <div class="flex items-center mb-4">
                                <div class="w-1/4">
                                    <div class="bg-blue-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto">
                                        <div class="text-center">
                                            <i class="fas fa-flask text-blue-600 text-3xl mb-1"></i>
                                            <div class="font-bold text-blue-800">NH<sub>3</sub></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-3/4 pl-4">
                                    <h2 class="text-xl font-bold text-blue-800 mb-2">Amoníaco</h2>
                                    <div class="flex items-center mb-2">
                                        <i class="fas fa-weight text-blue-600 mr-2"></i>
                                        <div><span class="font-bold">Masa Molar:</span> 17 g/mol</div>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-tachometer-alt text-blue-600 mr-2"></i>
                                        <div><span class="font-bold">Velocidad:</span> Mayor (molécula más ligera)</div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-blue-50 rounded-lg p-3 mt-2">
                                <div class="flex items-center">
                                    <i class="fas fa-info-circle text-blue-600 text-lg mr-2"></i>
                                    <p>Olor penetrante característico, frecuente en productos de limpieza.</p>
                                </div>
                            </div>
                        </div>
                        <div class="card w-1/2 p-6">
                            <div class="flex items-center mb-4">
                                <div class="w-1/4">
                                    <div class="bg-purple-100 rounded-full w-24 h-24 flex items-center justify-center mx-auto">
                                        <div class="text-center">
                                            <i class="fas fa-vial text-purple-600 text-3xl mb-1"></i>
                                            <div class="font-bold text-purple-800">C<sub>8</sub>H<sub>8</sub>O<sub>3</sub></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="w-3/4 pl-4">
                                    <h2 class="text-xl font-bold text-purple-800 mb-2">Vanilina</h2>
                                    <div class="flex items-center mb-2">
                                        <i class="fas fa-weight text-purple-600 mr-2"></i>
                                        <div><span class="font-bold">Masa Molar:</span> 152 g/mol</div>
                                    </div>
                                    <div class="flex items-center">
                                        <i class="fas fa-tachometer-alt text-purple-600 mr-2"></i>
                                        <div><span class="font-bold">Velocidad:</span> Menor (molécula más pesada)</div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-purple-50 rounded-lg p-3 mt-2">
                                <div class="flex items-center">
                                    <i class="fas fa-info-circle text-purple-600 text-lg mr-2"></i>
                                    <p>Aroma dulce, presente en la vainilla y muchos perfumes.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <h2 class="text-lg font-bold text-blue-800 mb-4">Percepción de Olores en el Tiempo</h2>
                        <div class="timeline mb-6">
                            <div class="timeline-line"></div>
                            <div class="timeline-point bg-gray-800" style="left: 0%;"></div>
                            <div class="timeline-label" style="left: calc(0% - 60px); bottom: 110%;">
                                <i class="fas fa-vial text-gray-800"></i>
                                <div>Inicio</div>
                            </div>
                            <div class="timeline-point ammonia-molecule" style="left: 30%;"></div>
                            <div class="timeline-label" style="left: calc(30% - 60px); bottom: 110%;">
                                <i class="fas fa-flask text-blue-600"></i>
                                <div class="text-blue-600">NH<sub>3</sub> llega</div>
                            </div>
                            <div class="timeline-point vanillin-molecule" style="left: 80%;"></div>
                            <div class="timeline-label" style="left: calc(80% - 60px); bottom: 110%;">
                                <i class="fas fa-vial text-purple-600"></i>
                                <div class="text-purple-600">C<sub>8</sub>H<sub>8</sub>O<sub>3</sub> llega</div>
                            </div>
                        </div>
                        <div class="bg-yellow-50 p-4 rounded-lg">
                            <div class="flex items-center">
                                <i class="fas fa-lightbulb text-yellow-600 text-2xl mr-3"></i>
                                <div>
                                    <h3 class="font-bold text-gray-800">Aplicando la Ley de Graham:</h3>
                                    <p class="mt-2">Velocidad de Difusión <span class="text-blue-600 font-bold">NH<sub>3</sub></span> / Velocidad de Difusión <span class="text-purple-600 font-bold">C<sub>8</sub>H<sub>8</sub>O<sub>3</sub></span> = √(152 / 17) ≈ √8.94 ≈ <span class="text-red-600 font-bold">3 veces más rápido</span></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide14_nn -->

        <!-- SLIDE 15 (antes Slide 11): Demostración Clásica - Experimento HCl y NH₃ -->
        <!-- SLIDE 15 (antes Slide 11): Demostración Clásica - Experimento HCl y NH₃ -->
        <div id="slide15_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-red-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-blue-400" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-red-300" style="width: 35px; height: 35px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-green-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">Demostración Clásica: Experimento HCl y NH₃</h1>
                    <div class="card p-6 mb-6">
                        <div class="relative h-48 mb-8">
                            <div class="tube">
                                <div class="diffusion-hcl"></div>
                                <div class="diffusion-nh3"></div>
                                <div class="cotton cotton-left"></div> <!-- Simula algodón con HCl -->
                                <div class="cotton cotton-right"></div> <!-- Simula algodón con NH3 -->
                                <div class="ring"></div>
                                <div class="gas-molecule hcl-molecule" style="width: 10px; height: 10px; top: 40%;"></div>
                                <div class="gas-molecule hcl-molecule" style="width: 8px; height: 8px; top: 50%; animation-delay: 0.5s;"></div>
                                <div class="gas-molecule hcl-molecule" style="width: 12px; height: 12px; top: 60%; animation-delay: 1s;"></div>
                                <div class="gas-molecule nh3-molecule" style="width: 10px; height: 10px; top: 45%;"></div>
                                <div class="gas-molecule nh3-molecule" style="width: 8px; height: 8px; top: 55%; animation-delay: 0.4s;"></div>
                                <div class="gas-molecule nh3-molecule" style="width: 12px; height: 12px; top: 65%; animation-delay: 0.8s;"></div>
                            </div>
                            <div class="molecule-labels mt-3">
                                <div class="molecule-label bg-red-600" style="left: 80px; top: 0;">HCl</div>
                                <div class="molecule-label bg-green-600" style="right: 40px; top: 0; transform: translateX(50%);">NH₃</div>
                                <div class="molecule-label bg-gray-700" style="left: 38%; top: 0;">NH₄Cl</div>
                            </div>
                        </div>
                        <div class="grid grid-cols-3 gap-6">
                            <div class="bg-red-50 p-4 rounded-lg">
                                <div class="flex items-start">
                                    <div class="bg-red-100 rounded-full w-12 h-12 flex items-center justify-center mt-1 flex-shrink-0">
                                        <i class="fas fa-flask text-red-600 text-2xl"></i>
                                    </div>
                                    <div class="ml-4">
                                        <h3 class="text-lg font-bold text-red-800">HCl (Ácido Clorhídrico)</h3>
                                        <p class="text-sm">Algodón con sol. HCl concentrado</p>
                                        <div class="flex items-center mt-1">
                                            <i class="fas fa-weight text-red-600 mr-2"></i>
                                            <div><span class="font-bold">Masa Molar:</span> 36.5 g/mol</div>
                                        </div>
                                        <div class="mt-1">
                                            <span class="font-bold">Gas más pesado</span> → <span class="font-bold text-red-600">Difusión más lenta</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-lg">
                                <div class="flex items-start">
                                    <div class="bg-gray-100 rounded-full w-12 h-12 flex items-center justify-center mt-1 flex-shrink-0">
                                        <i class="fas fa-ring text-gray-600 text-2xl"></i>
                                    </div>
                                    <div class="ml-4">
                                        <h3 class="text-lg font-bold text-gray-800">NH₄Cl (Cloruro de Amonio)</h3>
                                        <p class="mt-1">Reacción: <span class="font-bold">NH₃(g) + HCl(g) → NH₄Cl(s)</span></p>
                                        <div class="formula bg-white p-1 rounded text-center mt-1 text-sm">
                                            Formación de <span class="font-bold">humo blanco</span>
                                        </div>
                                        <div class="mt-1 text-center">
                                            <i class="fas fa-long-arrow-alt-down text-gray-600"></i>
                                            <p class="text-xs">Anillo visible donde se encuentran</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="bg-green-50 p-4 rounded-lg">
                                <div class="flex items-start">
                                    <div class="bg-green-100 rounded-full w-12 h-12 flex items-center justify-center mt-1 flex-shrink-0">
                                        <i class="fas fa-flask text-green-600 text-2xl"></i>
                                    </div>
                                    <div class="ml-4">
                                        <h3 class="text-lg font-bold text-green-800">NH₃ (Amoníaco)</h3>
                                        <p class="text-sm">Algodón con sol. NH₃ concentrado</p>
                                        <div class="flex items-center mt-1">
                                            <i class="fas fa-weight text-green-600 mr-2"></i>
                                            <div><span class="font-bold">Masa Molar:</span> 17 g/mol</div>
                                        </div>
                                        <div class="mt-1">
                                            <span class="font-bold">Gas más ligero</span> → <span class="font-bold text-green-600">Difusión más rápida</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card p-6">
                        <div class="flex items-start">
                            <div class="w-1/12 flex justify-center flex-shrink-0">
                                <div class="bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center">
                                    <i class="fas fa-ruler-combined text-blue-600 text-3xl"></i>
                                </div>
                            </div>
                            <div class="w-11/12 pl-6">
                                <h2 class="text-xl font-bold text-gray-800 mb-4">Análisis del Experimento</h2>
                                <div class="bg-yellow-50 p-4 rounded-lg mb-4">
                                    <div class="flex items-start">
                                        <div class="w-8 h-8 rounded-full bg-yellow-200 flex items-center justify-center mr-3 mt-1 flex-shrink-0">
                                            <i class="fas fa-lightbulb text-yellow-600"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-bold text-gray-800">Observación Experimental:</h3>
                                            <p class="mt-1">El anillo blanco de NH₄Cl se forma <span class="font-bold">más cerca del extremo del HCl</span>.</p>
                                            <p class="mt-1 text-sm">Medimos las distancias: <span class="font-bold">d<sub>NH₃</sub></span> y <span class="font-bold">d<sub>HCl</sub></span> desde cada extremo hasta el anillo.</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div class="bg-blue-50 p-4 rounded-lg">
                                        <h3 class="font-bold text-blue-800 mb-2">Relacionando Velocidad y Distancia</h3>
                                        <p class="text-sm">El <span class="font-bold">tiempo (t)</span> que tardan ambos gases en encontrarse es el <span class="font-bold">mismo</span>.</p>
                                        <p class="text-sm mt-1">Sabemos que <span class="font-bold">velocidad (v) = distancia (d) / tiempo (t)</span>.</p>
                                        <div class="formula bg-white p-2 rounded text-center mt-2 text-sm">
                                            v<sub>NH₃</sub> = d<sub>NH₃</sub> / t   <span class="mx-2">;</span>   v<sub>HCl</sub> = d<sub>HCl</sub> / t
                                        </div>
                                        <p class="text-sm mt-1">Por lo tanto, la relación de velocidades experimentales es:</p>
                                        <div class="formula bg-white p-2 rounded text-center mt-1 font-bold text-blue-700">
                                            v<sub>NH₃</sub> / v<sub>HCl</sub> = d<sub>NH₃</sub> / d<sub>HCl</sub>
                                        </div>
                                    </div>
                                    <div class="bg-indigo-50 p-4 rounded-lg">
                                        <h3 class="font-bold text-indigo-800 mb-2">Comparando con la Ley de Graham</h3>
                                        <p class="text-sm">La Ley de Graham predice teóricamente:</p>
                                        <div class="formula bg-white p-2 rounded text-center mt-1 font-bold text-indigo-700">
                                            v<sub>NH₃</sub> / v<sub>HCl</sub> = √(M<sub>HCl</sub> / M<sub>NH₃</sub>)
                                        </div>
                                        <div class="formula bg-white p-2 rounded text-center mt-2 text-sm">
                                            = √(36.5 / 17) ≈ √2.15 ≈ <span class="font-bold">1.47</span>
                                        </div>
                                        <p class="text-sm mt-1">Esto significa que el NH₃ se difunde ~1.47 veces más rápido que el HCl y, por lo tanto, recorre ~1.47 veces más distancia en el mismo tiempo.</p>
                                    </div>
                                </div>
                                <div class="bg-green-50 p-4 rounded-lg mt-4">
                                     <h3 class="font-bold text-green-800 mb-2">Conclusión</h3>
                                     <p class="text-sm">El NH₃ (más ligero) viaja más rápido y recorre una mayor distancia (d<sub>NH₃</sub> > d<sub>HCl</sub>) antes de encontrarse con el HCl (más pesado). El punto de encuentro (anillo blanco) estará más cerca del extremo del HCl. La relación de distancias medidas experimentalmente (<span class="font-bold">d<sub>NH₃</sub> / d<sub>HCl</sub></span>) debería ser aproximadamente igual a la relación de velocidades teórica (<span class="font-bold">√(M<sub>HCl</sub> / M<sub>NH₃</sub>)</span>), confirmando la Ley de Graham.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide15_nn --> <!-- Fin de #slide15_nn --><!-- Fin de #slide15_nn -->
        <!-- SLIDE 16 (antes Slide 12): Cálculo de Ejemplo 1 -->
        <div id="slide16_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-red-400" style="width: 30px; height: 30px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-blue-300" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-red-300" style="width: 35px; height: 35px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-blue-300" style="width: 45px; height: 45px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">Cálculo de Ejemplo 1</h1>
                    <h2 class="text-2xl font-bold text-center text-blue-800 mb-6">Problema Práctico - Comparando Velocidades</h2>
                    <div class="grid grid-cols-12 gap-6">
                        <div class="col-span-12 card p-6 mb-4">
                            <div class="flex items-center">
                                <div class="bg-blue-100 p-3 rounded-full flex-shrink-0">
                                    <i class="fas fa-question-circle text-blue-600 text-3xl"></i>
                                </div>
                                <div class="ml-6">
                                    <h3 class="text-xl font-bold text-gray-800">Problema:</h3>
                                    <p class="text-lg mt-1">¿Cuántas veces más rápido efunde el <span class="font-bold text-blue-600">Hidrógeno</span> (H<sub>2</sub>, M≈2 g/mol) que el <span class="font-bold text-red-600">Oxígeno</span> (O<sub>2</sub>, M≈32 g/mol) a la misma temperatura y presión?</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-span-5 card p-6">
                            <h3 class="text-lg font-bold text-center mb-4">Comparación Visual de Velocidades</h3>
                            <div class="relative mb-6">
                                <div class="gas-container bg-gray-100 mb-3">
                                    <div class="gas h2-gas"></div>
                                    <div class="molecule-animation h2-molecule" style="width: 12px; height: 12px; top: 20%; animation-delay: 0s;"></div>
                                    <div class="molecule-animation h2-molecule" style="width: 10px; height: 10px; top: 40%; animation-delay: 0.5s;"></div>
                                    <div class="molecule-animation h2-molecule" style="width: 14px; height: 14px; top: 60%; animation-delay: 1s;"></div>
                                    <div class="molecule-animation h2-molecule" style="width: 11px; height: 11px; top: 80%; animation-delay: 1.5s;"></div>
                                    <div class="absolute top-0 left-2 p-2 bg-white rounded-br-lg font-bold">H<sub>2</sub></div>
                                    <div class="absolute top-0 right-2 p-2 bg-white rounded-bl-lg font-bold">2 g/mol</div>
                                    <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white py-1 px-4 rounded-full text-sm">Velocidad: 4× más rápido</div>
                                </div>
                                <div class="gas-container bg-gray-100">
                                    <div class="gas o2-gas"></div>
                                    <div class="molecule-animation o2-molecule" style="width: 18px; height: 18px; top: 25%; animation-delay: 0s;"></div>
                                    <div class="molecule-animation o2-molecule" style="width: 20px; height: 20px; top: 45%; animation-delay: 2s;"></div>
                                    <div class="molecule-animation o2-molecule" style="width: 16px; height: 16px; top: 65%; animation-delay: 4s;"></div>
                                    <div class="absolute top-0 left-2 p-2 bg-white rounded-br-lg font-bold">O<sub>2</sub></div>
                                    <div class="absolute top-0 right-2 p-2 bg-white rounded-bl-lg font-bold">32 g/mol</div>
                                    <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-red-600 text-white py-1 px-4 rounded-full text-sm">Velocidad: 1×</div>
                                </div>
                            </div>
                            <div class="text-center">
                                <div class="inline-flex items-center">
                                    <div class="w-4 h-4 rounded-full bg-blue-600 mr-2"></div>
                                    <p class="mr-4 text-sm"><strong>Hidrógeno</strong>: Moléculas pequeñas, más ligeras</p>
                                </div>
                                <div class="inline-flex items-center">
                                    <div class="w-4 h-4 rounded-full bg-red-600 mr-2"></div>
                                    <p class="text-sm"><strong>Oxígeno</strong>: Moléculas más grandes, más pesadas</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-span-7 card p-6">
                            <h3 class="text-lg font-bold mb-4">Resolución del Problema</h3>
                            <div class="formula-box p-4 mb-6">
                                <h4 class="font-bold text-blue-800 mb-2">Aplicamos la Ley de Graham:</h4>
                                <div class="text-center text-xl">
                                    <span class="font-bold">v<sub>1</sub>/v<sub>2</sub> = √(M<sub>2</sub>/M<sub>1</sub>)</span>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <p class="mb-2 font-bold">Identificamos las variables</p>
                                    <div class="bg-gray-50 p-3 rounded-lg">
                                        <p>v<sub>H₂</sub> = velocidad de efusión del hidrógeno</p>
                                        <p>v<sub>O₂</sub> = velocidad de efusión del oxígeno</p>
                                        <p>M<sub>H₂</sub> = 2 g/mol</p>
                                        <p>M<sub>O₂</sub> = 32 g/mol</p>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <p class="mb-2 font-bold">Sustituimos en la fórmula</p>
                                    <div class="bg-blue-50 p-3 rounded-lg">
                                        <div class="text-center text-lg">
                                            v<sub>H₂</sub>/v<sub>O₂</sub> = √(M<sub>O₂</sub>/M<sub>H₂</sub>) = √(32 g/mol / 2 g/mol)
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <p class="mb-2 font-bold">Resolvemos</p>
                                    <div class="bg-green-50 p-3 rounded-lg">
                                        <div class="text-center text-lg">
                                            = √16 = 4
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6">
                                <div class="result bg-green-100 p-4 rounded-lg text-center">
                                    <h3 class="text-xl font-bold text-green-800 mb-2">Respuesta:</h3>
                                    <p class="text-lg">El <span class="font-bold text-blue-600">Hidrógeno</span> efunde <span class="font-bold text-green-600">4 veces más rápido</span> que el <span class="font-bold text-red-600">Oxígeno</span>.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-span-12 bg-gray-50 rounded-lg p-4">
                            <div class="flex items-center">
                                <div class="bg-yellow-100 p-2 rounded-full flex-shrink-0">
                                    <i class="fas fa-lightbulb text-yellow-600 text-xl"></i>
                                </div>
                                <p class="ml-3 text-sm">
                                    <strong>Nota:</strong> La velocidad de efusión es inversamente proporcional a la raíz cuadrada de la masa molar. 
                                    Por tanto, cuanto menor sea la masa molar de un gas, mayor será su velocidad de efusión.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide16_nn -->

        <!-- SLIDE 17 (antes Slide 13): Cálculo de Ejemplo 2 -->
        <div id="slide17_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-purple-400" style="width: 45px; height: 45px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-blue-300" style="width: 25px; height: 25px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-purple-300" style="width: 50px; height: 50px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-blue-300" style="width: 35px; height: 35px; top: 15%; left: 50%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">Cálculo de Ejemplo 2</h1>
                    <h2 class="text-2xl font-bold text-center text-purple-800 mb-6">Problema Práctico - Identificando un Gas Desconocido</h2>
                    <div class="grid grid-cols-12 gap-6">
                        <div class="col-span-12 card p-6 mb-4">
                            <div class="flex items-center">
                                <div class="bg-purple-100 p-3 rounded-full flex-shrink-0">
                                    <i class="fas fa-flask text-purple-600 text-3xl"></i>
                                </div>
                                <div class="ml-6">
                                    <h3 class="text-xl font-bold text-gray-800">Problema:</h3>
                                    <p class="text-lg mt-1">Un gas desconocido <span class="mystery">X</span> efunde <span class="font-bold text-purple-600">0.279 veces más rápido</span> que el <span class="font-bold text-blue-600">Nitrógeno</span> (N<sub>2</sub>, M≈28 g/mol). ¿Cuál es la masa molar del gas <span class="mystery">X</span>?</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-span-5 card p-6">
                            <h3 class="text-lg font-bold text-center mb-4">Visualización del Problema</h3>
                            <div class="relative mb-6">
                                <div class="gas-container bg-gray-100 mb-3">
                                    <div class="gas n2-gas"></div>
                                    <div class="molecule-animation n2-molecule" style="width: 14px; height: 14px; top: 20%; animation-delay: 0s;"></div>
                                    <div class="molecule-animation n2-molecule" style="width: 12px; height: 12px; top: 40%; animation-delay: 0.5s;"></div>
                                    <div class="molecule-animation n2-molecule" style="width: 16px; height: 16px; top: 60%; animation-delay: 1s;"></div>
                                    <div class="molecule-animation n2-molecule" style="width: 13px; height: 13px; top: 80%; animation-delay: 1.5s;"></div>
                                    <div class="absolute top-0 left-2 p-2 bg-white rounded-br-lg font-bold">N<sub>2</sub></div>
                                    <div class="absolute top-0 right-2 p-2 bg-white rounded-bl-lg font-bold">28 g/mol</div>
                                    <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-blue-600 text-white py-1 px-4 rounded-full text-sm">Velocidad: 1×</div>
                                </div>
                                <div class="gas-container bg-gray-100">
                                    <div class="gas x-gas"></div>
                                    <div class="molecule-animation x-molecule" style="width: 24px; height: 24px; top: 25%; animation-delay: 0s;"></div>
                                    <div class="molecule-animation x-molecule" style="width: 26px; height: 26px; top: 45%; animation-delay: 2s;"></div>
                                    <div class="molecule-animation x-molecule" style="width: 22px; height: 22px; top: 65%; animation-delay: 4s;"></div>
                                    <div class="absolute top-0 left-2 p-2 bg-white rounded-br-lg font-bold"><span class="mystery">X</span> Gas Desconocido</div>
                                    <div class="absolute top-0 right-2 p-2 bg-white rounded-bl-lg font-bold">M<sub>X</sub> = ?</div>
                                    <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 bg-purple-600 text-white py-1 px-4 rounded-full text-sm">Velocidad: 0.279×</div>
                                </div>
                            </div>
                            <div class="bg-yellow-50 p-4 rounded-lg">
                                <div class="flex items-center">
                                    <div class="bg-yellow-100 p-2 rounded-full mr-3 flex-shrink-0">
                                        <i class="fas fa-lightbulb text-yellow-600"></i>
                                    </div>
                                    <p class="text-sm"><strong>Observación:</strong> El gas X se mueve más lentamente que el N<sub>2</sub>, lo que indica que debe tener una masa molar mayor.</p>
                                </div>
                            </div>
                        </div>
                        <div class="col-span-7 card p-6">
                            <h3 class="text-lg font-bold mb-4">Resolución del Problema</h3>
                            <div class="formula-box p-4 mb-6">
                                <h4 class="font-bold text-blue-800 mb-2">Aplicando la Ley de Graham:</h4>
                                <div class="text-center text-xl">
                                    <span class="font-bold">v<sub>X</sub>/v<sub>N₂</sub> = √(M<sub>N₂</sub>/M<sub>X</sub>)</span>
                                </div>
                            </div>
                            <div class="space-y-4">
                                <div class="step">
                                    <div class="step-number">1</div>
                                    <p class="mb-2 font-bold">Identificamos los datos</p>
                                    <div class="bg-gray-50 p-3 rounded-lg">
                                        <p>v<sub>X</sub>/v<sub>N₂</sub> = 0.279</p>
                                        <p>M<sub>N₂</sub> = 28 g/mol</p>
                                        <p>M<sub>X</sub> = ? (incógnita)</p>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">2</div>
                                    <p class="mb-2 font-bold">Sustituimos en la fórmula</p>
                                    <div class="bg-blue-50 p-3 rounded-lg">
                                        <div class="text-center">
                                            <p>0.279 = √(28 g/mol / M<sub>X</sub>)</p>
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">3</div>
                                    <p class="mb-2 font-bold">Elevamos ambos lados al cuadrado</p>
                                    <div class="bg-indigo-50 p-3 rounded-lg">
                                        <div class="text-center">
                                            <p>(0.279)<sup>2</sup> = 28 g/mol / M<sub>X</sub></p>
                                            <p>0.077841 = 28 g/mol / M<sub>X</sub></p>
                                        </div>
                                    </div>
                                </div>
                                <div class="step">
                                    <div class="step-number">4</div>
                                    <p class="mb-2 font-bold">Despejamos la masa molar desconocida</p>
                                    <div class="bg-purple-50 p-3 rounded-lg">
                                        <div class="text-center">
                                            <p>M<sub>X</sub> = 28 g/mol / 0.077841</p>
                                            <p>M<sub>X</sub> ≈ 359.7 g/mol</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-6">
                                <div class="result bg-purple-100 p-4 rounded-lg text-center">
                                    <h3 class="text-xl font-bold text-purple-800 mb-2">Resultado:</h3>
                                    <p class="text-lg">La masa molar del gas <span class="mystery">X</span> es aproximadamente <span class="font-bold text-purple-700">359.7 g/mol</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="col-span-12 bg-gray-50 rounded-lg p-4">
                            <div class="flex items-center">
                                <div class="bg-green-100 p-2 rounded-full flex-shrink-0">
                                    <i class="fas fa-info-circle text-green-600 text-xl"></i>
                                </div>
                                <p class="ml-3 text-sm">
                                    <strong>Interpretación:</strong> El gas <span class="mystery">X</span> tiene una masa molar muy alta (359.7 g/mol), lo que explica su baja velocidad de efusión. Podría tratarse de un gas noble pesado, un compuesto organometálico o un gas de uso industrial específico con moléculas complejas.
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide17_nn -->

        <!-- SLIDE 18 (Modificada/Expandida - antes Slide 14): Aplicaciones Tecnológicas e Industriales -->
        <div id="slide18_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 40px; height: 40px; top: 10%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 45px; height: 45px; top: 70%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-orange-300" style="width: 30px; height: 30px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-blue-300" style="width: 50px; height: 50px; top: 60%; left: 85%; animation-delay: 3s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-8 text-center">Aplicaciones Tecnológicas e Industriales</h1>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <!-- Separación de Isótopos (Original de slide 14) -->
                        <div class="card card-isotope p-6 flex items-start">
                            <div class="icon-container icon-isotope shadow-md flex-shrink-0">
                                <i class="fas fa-atom text-3xl text-blue-600"></i>
                                <div class="particle particle-1" style="top: 20px; left: 40px;"></div>
                                <div class="particle particle-2" style="top: 30px; left: 20px;"></div>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-blue-800 mb-2">Separación de Isótopos</h3>
                                <ul class="list-disc ml-5 space-y-2">
                                    <li>
                                        <strong>Enriquecimiento de Uranio</strong> - <sup>235</sup>UF₆ vs <sup>238</sup>UF₆
                                    </li>
                                    <li class="text-sm text-gray-700"><sup>235</sup>UF₆ (M ≈ 349 g/mol) es ligeramente más ligero que <sup>238</sup>UF₆ (M ≈ 352 g/mol).</li>
                                    <li class="text-sm text-gray-700">Diferencia de velocidad de efusión: ~0.43%.</li>
                                    <li class="text-sm text-gray-700">Requiere múltiples etapas en cascada.</li>
                                    <li><strong>Aplicación crítica en la industria nuclear.</strong></li>
                                </ul>
                            </div>
                        </div>
                        
                        <!-- Determinación de Masas Molares (Original de slide 14) -->
                        <div class="card card-molar p-6 flex items-start">
                            <div class="icon-container icon-molar shadow-md flex-shrink-0">
                                <i class="fas fa-balance-scale text-3xl text-green-600"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-green-800 mb-2">Determinación de Masas Molares</h3>
                                <ul class="list-disc ml-5 space-y-2">
                                    <li>Método histórico y pedagógico.</li>
                                    <li class="text-sm text-gray-700">Comparación de velocidades contra un gas de referencia.</li>
                                    <li class="text-sm text-gray-700">Superado en precisión por técnicas modernas (ej. espectrometría de masas).</li>
                                    <li><strong>Útil en química analítica básica.</strong></li>
                                </ul>
                            </div>
                        </div>

                        <!-- Seguridad Industrial y Detección de Fugas (Nuevo contenido del .tex) -->
                        <div class="card card-safety p-6 flex items-start md:col-span-2"> <!-- Ocupa ambas columnas en layout de 2 -->
                            <div class="icon-container icon-safety shadow-md flex-shrink-0">
                                <i class="fas fa-hard-hat text-3xl text-orange-600"></i>
                            </div>
                            <div>
                                <h3 class="text-xl font-bold text-orange-800 mb-2">Seguridad Industrial y Detección de Fugas</h3>
                                <div class="beamer-block">
                                    <ul class="list-disc ml-5 space-y-2 text-sm text-gray-700">
                                        <li>Predicción de la dispersión de gases peligrosos (ej. H₂S, CO).</li>
                                        <li>Diseño eficiente de sistemas de ventilación y extracción.</li>
                                        <li>Odorización del gas natural (se añaden mercaptanos, más pesados pero con olor detectable, para alertar fugas del metano inodoro y ligero).</li>
                                        <li>Colocación estratégica de sensores de gases (considerando si el gas es más ligero o pesado que el aire).</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide18_nn -->

        <!-- SLIDE 19: Nueva - Aplicaciones en Ciencias Naturales y Ambientales -->
        <div id="slide19_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start p-10">
                <div class="molecules">
                    <div class="molecule bg-green-500" style="width: 50px; height: 50px; top: 10%; left: 15%; animation-delay: 0s;"></div>
                    <div class="molecule bg-yellow-500" style="width: 60px; height: 60px; top: 70%; left: 75%; animation-delay: 1s;"></div>
                     <div class="molecule bg-brown-400" style="width: 40px; height: 40px; top: 25%; left: 80%; animation-delay: 2s; background-color: #A0522D;"></div> <!-- Marrón para geociencias -->
                </div>
                <div class="content-wrapper w-full max-w-5xl mx-auto">
                    <h1 class="title text-center mb-10">La Ley de Graham en el Mundo Natural</h1>
                    <div class="columns-container">
                        <div class="column">
                            <div class="beamer-block">
                                <h3 class="block-title-geo"><i class="fas fa-mountain mr-2"></i>Geociencias</h3>
                                <ul class="text-gray-700 space-y-2">
                                    <li>Movimiento de gases en suelos y rocas porosas (ej. Radón, CH₄, CO₂).</li>
                                    <li>Fraccionamiento isotópico de gases nobles y otros elementos durante la migración.</li>
                                    <li>Modelado de la desgasificación y emisiones volcánicas.</li>
                                </ul>
                            </div>
                        </div>
                        <div class="column">
                            <div class="beamer-block">
                                <h3 class="block-title-bio"><i class="fas fa-seedling mr-2"></i>Ciencias Biológicas y Ecología</h3>
                                 <ul class="text-gray-700 space-y-2">
                                    <li>Intercambio gaseoso en organismos:
                                        <ul class="list-inside list-disc ml-4">
                                            <li>Difusión de O₂ y CO₂ en alvéolos pulmonares.</li>
                                            <li>Intercambio de gases a través de estomas en plantas.</li>
                                        </ul>
                                    </li>
                                    <li>Dispersión de contaminantes atmosféricos y su impacto en ecosistemas.</li>
                                    <li>Estudio de ciclos biogeoquímicos (emisión de CH₄ de humedales, N₂O de suelos).</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="placeholder-collage mt-8">
                        <i class="fas fa-globe-americas text-6xl text-blue-300 opacity-50"></i>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide19_nn -->

        <!-- SLIDE 20: Nueva - Ley de Graham en la Vida Cotidiana -->
        <div id="slide20_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start p-10">
                 <div class="molecules">
                    <div class="molecule bg-orange-400" style="width: 40px; height: 40px; top: 20%; left: 10%; animation-delay: 0.3s;"></div>
                    <div class="molecule bg-gray-400" style="width: 50px; height: 50px; top: 80%; left: 25%; animation-delay: 0.9s;"></div>
                    <div class="molecule bg-purple-400" style="width: 35px; height: 35px; top: 15%; left: 70%; animation-delay: 1.2s;"></div>
                    <div class="molecule bg-red-400" style="width: 45px; height: 45px; top: 70%; left: 85%; animation-delay: 1.8s;"></div>
                </div>
                <div class="content-wrapper w-full max-w-4xl mx-auto">
                    <h1 class="title text-center mb-10">Graham a Nuestro Alrededor</h1>
                    <p class="framesubtitle text-center mb-8">Ejemplos Cotidianos</p>
                    
                    <div class="space-y-4">
                        <div class="life-item">
                            <i class="fas fa-coffee icon-kitchen"></i>
                            <div>
                                <h3 class="font-semibold text-lg">Olores de Cocina</h3>
                                <p class="text-sm text-gray-600">Los compuestos aromáticos más ligeros y volátiles (ej. de especias, café) viajan más rápido y se perciben antes que los aromas de moléculas más pesadas.</p>
                            </div>
                        </div>
                        <div class="life-item">
                            <i class="fas fa-dot-circle icon-tire"></i> <!-- fas fa-tire no existe, usando fa-dot-circle -->
                            <div>
                                <h3 class="font-semibold text-lg">Neumáticos Desinflándose</h3>
                                <p class="text-sm text-gray-600">Aunque el aire es una mezcla, si un neumático se llenara con Helio (muy ligero) y otro con un gas más pesado como SF₆, el de Helio se desinflaría notablemente más rápido por los microporos del caucho.</p>
                            </div>
                        </div>
                        <div class="life-item">
                            <i class="fas fa-spray-can icon-spray"></i>
                            <div>
                                <h3 class="font-semibold text-lg">Ambientadores en Spray</h3>
                                <p class="text-sm text-gray-600">El gas propelente (a menudo un hidrocarburo ligero) ayuda a dispersar rápidamente las partículas de fragancia (más pesadas) por la habitación.</p>
                            </div>
                        </div>
                         <div class="life-item">
                            <i class="fas fa-lungs icon-lungs"></i>
                            <div>
                                <h3 class="font-semibold text-lg">Respiración</h3>
                                <p class="text-sm text-gray-600">El eficiente intercambio de O₂ (M≈32) y CO₂ (M≈44) en los alvéolos pulmonares, aunque complejo, está fundamentalmente influenciado por sus tasas de difusión relativas en la fase gaseosa.</p>
                            </div>
                        </div>
                    </div>
                    <div class="placeholder-photos mt-8">
                         <i class="fas fa-images text-6xl text-blue-300 opacity-50"></i>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide20_nn -->
        <!-- SLIDE 21 (antes Slide 15): Factores que Afectan y Limitaciones -->
        <div id="slide21_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 50px; height: 50px; top: 10%; left: 15%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 60px; height: 60px; top: 70%; left: 35%; animation-delay: 1s;"></div>
                    <div class="molecule bg-yellow-300" style="width: 40px; height: 40px; top: 25%; left: 65%; animation-delay: 2s;"></div>
                    <div class="molecule bg-red-300" style="width: 55px; height: 55px; top: 65%; left: 80%; animation-delay: 3s;"></div>
                    <div class="molecule bg-purple-300" style="width: 45px; height: 45px; top: 20%; left: 45%; animation-delay: 4s;"></div>
                    <div class="molecule bg-teal-300" style="width: 35px; height: 35px; top: 45%; left: 10%; animation-delay: 5s;"></div>
                </div>
                <div class="content-wrapper w-full px-12 py-8 relative z-10">
                    <h1 class="title font-bold mb-8 text-center">Factores que Afectan y Limitaciones</h1>
                    <div class="limitation-header mb-10"> <!-- Aumentado mb para dar espacio a la línea ::before -->
                        <h2 class="text-2xl font-bold text-teal-700">Consideraciones Adicionales</h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                        <div class="factor-card p-5">
                            <div class="flex flex-col items-center mb-3">
                                <div class="factor-icon temperature-icon">
                                    <i class="fas fa-thermometer-half text-white text-2xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-red-700">Temperatura</h3>
                            </div>
                            <p class="text-center text-gray-700">La ley asume T constante.</p>
                            <div class="mt-3 bg-red-50 rounded-lg p-2">
                                <p class="text-sm text-gray-700 text-center"><strong>Si T cambia</strong> → las velocidades cambian</p>
                            </div>
                            <div class="mt-3 flex justify-center">
                                <div class="flex items-center">
                                    <div class="text-sm bg-blue-100 p-1 rounded">T↑</div>
                                    <i class="fas fa-arrow-right mx-2 text-gray-500"></i>
                                    <div class="text-sm bg-red-100 p-1 rounded">v↑</div>
                                </div>
                            </div>
                        </div>
                        <div class="factor-card p-5">
                            <div class="flex flex-col items-center mb-3">
                                <div class="factor-icon pressure-icon">
                                    <i class="fas fa-compress-alt text-white text-2xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-green-700">Presión</h3>
                            </div>
                            <p class="text-center text-gray-700">Se asume P constante.</p>
                            <div class="mt-3 bg-green-50 rounded-lg p-2">
                                <p class="text-sm text-gray-700 text-center">La efusión ideal ocurre hacia un <strong>vacío</strong> o presión muy baja</p>
                            </div>
                            <div class="mt-3 flex justify-center">
                                <div class="flex items-center space-x-2">
                                    <div class="text-sm bg-blue-100 p-1 rounded flex items-center">
                                        <i class="fas fa-arrow-left text-xs mr-1"></i>
                                        <span>P1</span>
                                    </div>
                                    <div class="text-sm bg-gray-200 p-1 rounded">></div>
                                    <div class="text-sm bg-blue-100 p-1 rounded flex items-center">
                                        <span>P2</span>
                                        <i class="fas fa-arrow-right text-xs ml-1"></i>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="factor-card p-5">
                            <div class="flex flex-col items-center mb-3">
                                <div class="factor-icon size-icon">
                                    <i class="fas fa-search text-white text-2xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-blue-700">Tamaño del Orificio</h3>
                            </div>
                            <p class="text-center text-gray-700">Debe ser muy pequeño.</p>
                            <div class="mt-3 bg-blue-50 rounded-lg p-2">
                                <p class="text-sm text-gray-700 text-center">Diámetro menor que la <strong>trayectoria libre media</strong> de las moléculas</p>
                            </div>
                            <div class="mt-2 text-center">
                                <i class="fas fa-exclamation-triangle text-yellow-500 mr-1"></i>
                                <span class="text-sm text-gray-700">Si el orificio es grande → flujo viscoso</span>
                            </div>
                        </div>
                        <div class="factor-card p-5">
                            <div class="flex flex-col items-center mb-3">
                                <div class="factor-icon molecular-icon">
                                    <i class="fas fa-atom text-white text-2xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-purple-700">Interacciones Intermoleculares</h3>
                            </div>
                            <p class="text-center text-gray-700">La ley funciona mejor para gases ideales.</p>
                            <div class="mt-3 bg-purple-50 rounded-lg p-2">
                                <p class="text-sm text-gray-700 text-center">En gases reales, las <strong>fuerzas intermoleculares</strong> pueden afectar las velocidades</p>
                            </div>
                            <div class="mt-3 flex justify-center">
                                <div class="flex items-center space-x-2">
                                    <i class="fas fa-check-circle text-green-500"></i>
                                    <span class="text-sm text-gray-700">H₂, He, N₂</span>
                                    <i class="fas fa-times-circle text-red-500 ml-3"></i>
                                    <span class="text-sm text-gray-700">NH₃, HF</span>
                                </div>
                            </div>
                        </div>
                        <div class="factor-card p-5">
                            <div class="flex flex-col items-center mb-3">
                                <div class="factor-icon medium-icon">
                                    <i class="fas fa-water text-white text-2xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-indigo-700">Difusión en Medios Densos</h3>
                            </div>
                            <p class="text-center text-gray-700">Más compleja en líquidos o a través de otros gases.</p>
                            <div class="mt-3 bg-indigo-50 rounded-lg p-2">
                                <p class="text-sm text-gray-700 text-center">Debido a las <strong>colisiones frecuentes</strong> entre moléculas</p>
                            </div>
                            <div class="mt-3 flex justify-center">
                                <i class="fas fa-random text-gray-500 mr-2"></i>
                                <span class="text-sm text-gray-700">Requiere modelos más complejos</span>
                            </div>
                        </div>
                        <div class="factor-card p-5 bg-gradient-to-r from-blue-50 to-teal-50">
                            <div class="flex items-center justify-center mb-3">
                                <i class="fas fa-info-circle text-blue-600 text-3xl mr-3"></i>
                                <h3 class="text-xl font-bold text-blue-800">A Tener en Cuenta</h3>
                            </div>
                            <ul class="space-y-2 pl-5">
                                <li class="text-sm flex items-start">
                                    <i class="fas fa-arrow-circle-right text-teal-600 mt-1 mr-2"></i>
                                    <span>La Ley de Graham proporciona una <strong>aproximación</strong> al comportamiento real de los gases</span>
                                </li>
                                <li class="text-sm flex items-start">
                                    <i class="fas fa-arrow-circle-right text-teal-600 mt-1 mr-2"></i>
                                    <span>A <strong>presiones altas</strong> o <strong>temperaturas bajas</strong>, pueden surgir desviaciones significativas</span>
                                </li>
                                <li class="text-sm flex items-start">
                                    <i class="fas fa-arrow-circle-right text-teal-600 mt-1 mr-2"></i>
                                    <span>Para resultados precisos, considerar correcciones específicas según las condiciones experimentales</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="mt-6 bg-blue-50 border border-blue-200 rounded-lg p-3 text-center">
                        <div class="flex items-center justify-center">
                            <i class="fas fa-quote-left text-blue-400 text-xl mr-2"></i>
                            <p class="text-lg italic text-blue-800">
                                Toda ley científica tiene su rango de aplicabilidad y sus limitaciones
                            </p>
                            <i class="fas fa-quote-right text-blue-400 text-xl ml-2"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide21_nn -->

        <!-- SLIDE 22: Nueva - Más Allá de Graham: Modelos Avanzados -->
        <div id="slide22_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start p-10">
                <div class="molecules">
                     <div class="molecule bg-cyan-400" style="width: 50px; height: 50px; top: 15%; left: 80%; animation-delay: 0.2s;"></div>
                     <div class="molecule bg-sky-400" style="width: 70px; height: 70px; top: 60%; left: 10%; animation-delay: 1.2s;"></div>
                </div>
                <div class="content-wrapper w-full max-w-4xl mx-auto">
                    <h1 class="title text-center mb-6">Más Allá de Graham</h1>
                    <p class="framesubtitle text-center mb-8">Breve Mención a Modelos Avanzados</p>

                    <div class="beamer-block mb-6">
                        <h3 class="block-title">Contexto General</h3>
                        <p class="text-gray-700">La Ley de Graham es una herramienta fundamental y un excelente punto de partida. Sin embargo, para sistemas más complejos o condiciones no ideales, los científicos utilizan modelos más sofisticados que a menudo incorporan los principios de Graham.</p>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="advanced-model-item">
                            <h4 class="text-lg font-semibold text-blue-700 mb-2">Difusión de Knudsen</h4>
                            <p class="text-sm text-gray-600">Describe el flujo de gases a través de poros muy pequeños (comparables o menores que la trayectoria libre media de las moléculas), donde las colisiones molécula-pared dominan sobre las colisiones intermoleculares.</p>
                        </div>
                        <div class="advanced-model-item">
                            <h4 class="text-lg font-semibold text-blue-700 mb-2">Modelo de Gas Polvoriento (DGM)</h4>
                            <p class="text-sm text-gray-600">Unifica varios mecanismos de transporte de gases en medios porosos, incluyendo el flujo viscoso (Poiseuille), la difusión de Knudsen y la difusión molecular ordinaria (Bulk diffusion, relacionada con Graham).</p>
                        </div>
                        <div class="advanced-model-item md:col-span-2">
                            <h4 class="text-lg font-semibold text-blue-700 mb-2">Ecuaciones de Stefan-Maxwell</h4>
                            <p class="text-sm text-gray-600">Proporcionan un marco más riguroso para describir la difusión en mezclas de gases multicomponente, considerando las interacciones entre todas las especies presentes.</p>
                        </div>
                    </div>

                    <div class="alert-box-beyond mt-8">
                        <p class="font-semibold text-blue-800">Mensaje Clave:</p>
                        <p class="text-gray-700">La Ley de Graham sigue siendo la piedra angular para entender la dependencia de la masa en el movimiento gaseoso, y sus principios se integran o se tienen en cuenta incluso en estos modelos más avanzados.</p>
                    </div>
                     <div class="placeholder-animation mt-6 text-center italic text-gray-500">
                      
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide22_nn -->

        <!-- SLIDE 23 (antes Slide 16): Resumen Clave -->
        <div id="slide23_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 60px; height: 60px; top: 15%; left: 20%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 50px; height: 50px; top: 65%; left: 40%; animation-delay: 1s;"></div>
                    <div class="molecule bg-yellow-300" style="width: 70px; height: 70px; top: 30%; left: 70%; animation-delay: 2s;"></div>
                    <div class="molecule bg-red-300" style="width: 40px; height: 40px; top: 60%; left: 75%; animation-delay: 3s;"></div>
                    <div class="molecule bg-purple-300" style="width: 55px; height: 55px; top: 25%; left: 35%; animation-delay: 4s;"></div>
                </div>
                <div class="content-wrapper w-full px-16 py-10 relative z-10">
                    <h1 class="title font-bold mb-6 text-center">Puntos Esenciales para Recordar</h1>
                    <div class="formula-box p-6 mb-8 mx-auto w-2/3">
                        <h2 class="text-xl font-bold text-center text-blue-800 mb-3">La Fórmula de la Ley de Graham</h2>
                        <div class="formula text-5xl text-center my-3">
                            <span class="text-blue-800">v<sub>A</sub>/v<sub>B</sub> = </span>
                            <span class="text-green-700">√(M<sub>B</sub>/M<sub>A</sub>)</span>
                        </div>
                        <div class="flex justify-center items-center mt-2 space-x-8">
                            <div class="text-center">
                                <div class="bg-blue-100 rounded-full p-3 mb-2">
                                    <i class="fas fa-wind text-blue-700 text-xl"></i>
                                </div>
                                <p class="text-sm text-gray-700">v = velocidad de<br>efusión/difusión</p>
                            </div>
                            <div class="text-center">
                                <div class="bg-green-100 rounded-full p-3 mb-2">
                                    <i class="fas fa-atom text-green-700 text-xl"></i>
                                </div>
                                <p class="text-sm text-gray-700">M = masa molar<br>del gas</p>
                            </div>
                            <div class="text-center flex flex-col items-center">
                                <i class="fas fa-exchange-alt text-gray-500 text-2xl mb-2"></i>
                                <p class="text-sm text-gray-700">Relación<br>inversa</p>
                            </div>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 gap-6">
                        <div class="key-point p-5 border-l-4 border-blue-500">
                            <div class="flex items-start">
                                <div class="key-point-icon point-1 flex-shrink-0 mr-4">
                                    <i class="fas fa-link text-white text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-blue-700">Relación Fundamental</h3>
                                    <p class="mt-2 text-gray-700">La Ley de Graham describe la relación entre la <strong>velocidad de efusión/difusión</strong> de un gas y su <strong>masa molar</strong>.</p>
                                </div>
                            </div>
                        </div>
                        <div class="key-point p-5 border-l-4 border-green-500">
                            <div class="flex items-start">
                                <div class="key-point-icon point-2 flex-shrink-0 mr-4">
                                    <i class="fas fa-tachometer-alt text-white text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-green-700">Velocidad y Masa</h3>
                                    <p class="mt-2 text-gray-700">Los gases más <strong>ligeros</strong> (menor masa molar) se <strong>mueven más rápido</strong> a la misma temperatura.</p>
                                </div>
                            </div>
                        </div>
                        <div class="key-point p-5 border-l-4 border-purple-500">
                            <div class="flex items-start">
                                <div class="key-point-icon point-3 flex-shrink-0 mr-4">
                                    <i class="fas fa-lightbulb text-white text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-purple-700">Base Teórica</h3>
                                    <p class="mt-2 text-gray-700">Se basa en la <strong>Teoría Cinético-Molecular</strong>: a la misma temperatura (T), los gases tienen la misma energía cinética promedio (KE<sub>prom</sub>).</p>
                                </div>
                            </div>
                        </div>
                        <div class="key-point p-5 border-l-4 border-yellow-500">
                            <div class="flex items-start">
                                <div class="key-point-icon point-4 flex-shrink-0 mr-4">
                                    <i class="fas fa-industry text-white text-lg"></i>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-yellow-700">Aplicaciones</h3>
                                    <p class="mt-2 text-gray-700">Tiene aplicaciones importantes en la <strong>separación de isótopos</strong>, determinación de masas molares, control de olores y neumología.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="flex justify-center mt-6">
                        <div class="bg-white p-4 rounded-xl shadow-md w-2/3">
                            <h3 class="text-center text-lg font-bold text-gray-700 mb-2">Comparación Visual</h3>
                            <div class="flex justify-around items-center">
                                <div class="text-center">
                                    <div class="h-20 w-20 rounded-full bg-blue-100 border-4 border-blue-300 flex items-center justify-center mx-auto mb-2 relative">
                                        <span class="text-2xl font-bold text-blue-700">H₂</span>
                                        <div class="absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center">2</div>
                                    </div>
                                    <p class="text-sm font-bold text-blue-700">Gas Ligero</p>
                                    <p class="text-xs text-gray-600">Mayor Velocidad</p>
                                </div>
                                <div class="flex flex-col items-center px-8">
                                    <i class="fas fa-long-arrow-alt-right text-blue-500 text-4xl animate-pulse"></i>
                                    <i class="fas fa-long-arrow-alt-right text-blue-500 text-3xl mt-1"></i>
                                    <i class="fas fa-long-arrow-alt-right text-blue-500 text-2xl mt-1"></i>
                                </div>
                                <div class="text-center">
                                    <div class="h-20 w-20 rounded-full bg-red-100 border-4 border-red-300 flex items-center justify-center mx-auto mb-2 relative">
                                        <span class="text-2xl font-bold text-red-700">Xe</span>
                                        <div class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center">131</div>
                                    </div>
                                    <p class="text-sm font-bold text-red-700">Gas Pesado</p>
                                    <p class="text-xs text-gray-600">Menor Velocidad</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide23_nn -->

        <!-- SLIDE 24 (antes Slide 17): Conclusión -->
                <!-- SLIDE 24 (antes Slide 17): Conclusión -->
        <div id="slide24_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start">
                <div class="molecules">
                    <div class="molecule bg-blue-400" style="width: 80px; height: 80px; top: 15%; left: 10%; animation-delay: 0s;"></div>
                    <div class="molecule bg-green-400" style="width: 60px; height: 60px; top: 70%; left: 25%; animation-delay: 1s;"></div>
                    <div class="molecule bg-teal-400" style="width: 90px; height: 90px; top: 20%; left: 80%; animation-delay: 2s;"></div>
                    <div class="molecule bg-purple-300" style="width: 70px; height: 70px; top: 65%; left: 85%; animation-delay: 3s;"></div>
                    <div class="molecule bg-yellow-300" style="width: 50px; height: 50px; top: 40%; left: 50%; animation-delay: 4s;"></div>
                    <div class="atom-orbit" style="width: 200px; height: 200px; top: 10%; left: 80%; animation-duration: 20s;"></div>
                    <div class="atom-orbit" style="width: 150px; height: 150px; top: 60%; left: 15%; animation-duration: 15s; transform: rotate(45deg);"></div>
                </div>
                <div class="content-wrapper w-full px-16 py-10 relative z-10 flex flex-col justify-between min-h-full">
                    <div>
                        <h1 class="title font-bold mb-6 text-center glow">Más Allá de la Fórmula</h1>
                        <div class="conclusion-box p-6 mb-8 mx-auto">
                            <p class="text-xl text-center text-gray-700 leading-relaxed">
                                La <span class="font-bold text-blue-700">Ley de Graham</span> es una <span class="highlight-text font-semibold">herramienta fundamental</span> para entender el comportamiento dinámico de los gases. Nos ayuda a <span class="highlight-text font-semibold">predecir y controlar</span> cómo se mueven y mezclan los gases en diversas situaciones, desde procesos industriales hasta fenómenos cotidianos.
                            </p>
                        </div>
                        <div class="grid grid-cols-3 gap-6 mb-10">
                            <div class="visual-element visual-card p-5">
                                <div class="bg-blue-100 rounded-full w-16 h-16 flex items-center justify-center mb-4 mx-auto">
                                    <i class="fas fa-industry text-blue-600 text-3xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-blue-800 mb-2">Procesos Industriales</h3>
                                <p class="text-center text-gray-600">Separación de gases, enriquecimiento de isótopos, y optimización de reacciones químicas industriales.</p>
                            </div>
                            <div class="visual-element visual-card p-5">
                                <div class="bg-purple-100 rounded-full w-16 h-16 flex items-center justify-center mb-4 mx-auto">
                                    <i class="fas fa-flask text-purple-600 text-3xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-purple-800 mb-2">Investigación Científica</h3>
                                <p class="text-center text-gray-600">Determinación de masas molares, estudio del comportamiento molecular y aplicaciones en cromatografía.</p>
                            </div>
                            <div class="visual-element visual-card p-5">
                                <div class="bg-green-100 rounded-full w-16 h-16 flex items-center justify-center mb-4 mx-auto">
                                    <i class="fas fa-leaf text-green-600 text-3xl"></i>
                                </div>
                                <h3 class="text-xl font-bold text-center text-green-800 mb-2">Aplicaciones Ambientales</h3>
                                <p class="text-center text-gray-600">Dispersión de contaminantes, intercambio de gases en ecosistemas y procesos atmosféricos.</p>
                            </div>
                        </div>
                        <div class="flex justify-center items-center mt-4">
                            <div class="bg-gradient-to-r from-blue-500 to-teal-400 p-1 rounded-xl shadow-lg" style="width: 70%;">
                                <div class="bg-white rounded-lg p-5">
                                    <p class="text-2xl text-center font-bold mb-2 bg-gradient-to-r from-blue-700 to-teal-600 bg-clip-text text-transparent">Impacto en Nuestra Comprensión</p>
                                    <p class="text-center text-gray-700">La comprensión de la <strong>Ley de Graham</strong> nos ha permitido desarrollar tecnologías avanzadas y una visión más profunda del mundo microscópico, conectando las propiedades macroscópicas de los gases con su comportamiento molecular.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Botón con hipervínculo añadido -->
                    <div class="text-center mt-12 pb-4">
                        <a href="historia.html#slide=7" 
                           target="_blank" 
                           class="inline-block bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-lg text-xl shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                            <i class="fas fa-user-secret mr-2"></i> Ver el Desenlace de la Misión Cozzetti
                        </a>
                        <p class="text-sm text-gray-500 mt-3 italic">
                            (Volveremos a la historia para ver cómo el Oficial Cozzetti aplica este conocimiento)
                        </p>
                    </div>

                </div>
                <div class="absolute bottom-0 w-full h-16 bg-gradient-to-r from-blue-500 to-teal-400 opacity-20"></div>
            </div>
        </div> <!-- Fin de #slide24_nn --> <!-- Fin de #slide24_nn -->

        <!-- SLIDE 25: Nueva - Preguntas y Evaluación (y Agradecimiento) -->
        <div id="slide25_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-center p-10 text-center"> <!-- Centrado vertical y horizontal -->
                 <div class="molecules">
                    <div class="molecule bg-gray-300" style="width: 40px; height: 40px; top: 80%; left: 80%; animation-delay: 0s;"></div>
                    <div class="molecule bg-gray-400" style="width: 60px; height: 60px; top: 10%; left: 10%; animation-delay: 1s;"></div>
                </div>
                <div class="content-wrapper w-full max-w-3xl mx-auto">
                    <h1 class="title mb-10">¿Preguntas? / Evaluación Rápida</h1>

                    <div class="qa-section">
                        <h3 class="text-left">Espacio para Preguntas y Discusión</h3>
                        <p class="text-left text-gray-700">Este es el momento para plantear cualquier duda, comentario o profundizar en algún tema que haya despertado su interés.</p>
                        <!-- Podrías añadir un placeholder visual como un gran signo de interrogación o un icono de chat -->
                        <div class="text-center text-6xl text-blue-300 my-6">
                            <i class="fas fa-comments"></i>
                        </div>
                    </div>

                    <div class="qa-section mt-8">
                         <h3 class="text-left">Evaluación Rápida (Conceptual)</h3>
                        <div class="quiz-placeholder">
                            <p class="mb-2">Pongamos a prueba lo aprendido:</p>
                            <p class="text-sm">(Ej. 2-3 preguntas conceptuales que podrían ser respondidas oralmente o con un sistema simple de votación en clase)</p>
                            <ul class="text-left list-disc list-inside mt-4 text-gray-700 text-sm">
                                <li>Si el Gas A es 4 veces más pesado que el Gas B, ¿cuántas veces más rápido se moverá el Gas B?</li>
                                <li>¿Por qué el anillo de NH₄Cl se forma más cerca del algodón con HCl?</li>
                            </ul>
                        </div>
                    </div>
                    
                    <p class="thank-you-message mt-12">¡Gracias por su atención!</p>
                    <p class="contact-info text-sm">Alberto Albesa| albesa@inifta.unlp.edu.ar</p>
                </div>
            </div>
        </div> <!-- Fin de #slide25_nn -->

        <!-- SLIDE 26: Nueva - Referencias y Bibliografía -->
        <div id="slide26_nn" class="slide-content">
            <div class="slide flex flex-col items-center justify-start p-10">
                <div class="molecules">
                    <div class="molecule bg-gray-500" style="width: 40px; height: 40px; top: 15%; left: 10%; animation-delay: 0s;"></div>
                    <div class="molecule bg-gray-400" style="width: 60px; height: 60px; top: 75%; left: 85%; animation-delay: 1s;"></div>
                    <div class="molecule bg-gray-300" style="width: 50px; height: 50px; top: 50%; left: 50%; animation-delay: 2s; opacity: 0.1;"></div>
                </div>
                <div class="content-wrapper w-full max-w-4xl mx-auto">
                    <h1 class="title text-center mb-6">Referencias y Bibliografía</h1>
                    <p class="framesubtitle text-center mb-10">Fuentes sugeridas para profundizar en el tema.</p>

                    <div class="card bg-white bg-opacity-80 p-8 rounded-xl shadow-xl border-2 border-blue-300">
                        <h3 class="text-2xl font-semibold mb-6 text-blue-700 border-b-2 border-blue-200 pb-2">
                            <i class="fas fa-book-open mr-3 text-blue-500"></i>Libros de Consulta:
                        </h3>
                        <ul class="list-disc list-inside text-gray-700 space-y-3 text-lg">
                            <li>Petrucci, Ralph H.; Herring, F. Geoffrey; Madura, Jeffry D.; Bissonnette, Carey. <em>Química General: Principios y Aplicaciones Modernas</em>.</li>
                            <li>Brown, Theodore L.; LeMay, H. Eugene Jr.; Bursten, Bruce E.; Murphy, Catherine J.; Woodward, Patrick M.; Fitzpatrick, Steven. <em>Química: La Ciencia Central</em>.</li>
                            <li>Chang, Raymond; Goldsby, Kenneth A. <em>Química</em>.</li>
                            <li>Whitten, Kenneth W.; Davis, Raymond E.; Peck, M. Larry; Stanley, George G. <em>Química General</em>.</li>
                            <li>Atkins, Peter; de Paula, Julio. <em>Química Física de Atkins</em>. (Para aspectos termodinámicos y cinéticos más avanzados)</li>
                        </ul>
                    </div>

                    <div class="mt-10 text-center">
                        <p class="text-gray-600 italic">
                            Además, se recomienda consultar artículos científicos y recursos en línea actualizados para investigaciones específicas.
                        </p>
                    </div>
                </div>
            </div>
        </div> <!-- Fin de #slide26_nn -->

    </div> <!-- Fin de .slide-container -->

    <!-- Controles de Navegación -->
    <div class="navigation-controls">
        <button id="prevSlide" class="nav-button" disabled><i class="fas fa-arrow-left mr-2"></i>Anterior</button>
        <div id="slideIndicator" class="slide-indicator">1 / 25</div> <!-- Actualizar N a 25 -->
        <button id="nextSlide" class="nav-button">Siguiente<i class="fas fa-arrow-right ml-2"></i></button>
    </div>

    <script>
document.addEventListener('DOMContentLoaded', function () {
    const slides = document.querySelectorAll('.slide-content');
    const prevButton = document.getElementById('prevSlide');
    const nextButton = document.getElementById('nextSlide');
    const slideIndicator = document.getElementById('slideIndicator');
    let currentSlideIndex = 0;
    const totalSlides = slides.length > 0 ? slides.length : 1;
    const slideScriptsExecuted = new Array(totalSlides).fill(false); // Para ejecutar scripts específicos solo una vez

    console.log(`Total slides found: ${totalSlides}`);

    function updateSlideDisplay() {
        if (slides.length === 0) {
            console.warn("No slides found to display.");
            if(slideIndicator) slideIndicator.textContent = "0 / 0";
            if(prevButton) prevButton.disabled = true;
            if(nextButton) nextButton.disabled = true;
            return;
        }

        slides.forEach((slide, index) => {
            const wasActive = slide.classList.contains('active');
            if (index === currentSlideIndex) {
                slide.classList.add('active');
                if (!wasActive) { 
                    void slide.offsetWidth; // Force reflow para animaciones CSS
                    console.log(`Slide ${index + 1} ('${slide.id}') is now active. Forcing reflow.`);
                }
                if (!slideScriptsExecuted[index]) {
                    console.log(`Executing one-time script for slide ${index + 1} ('${slide.id}')`);
                    executeSlideSpecificScript(slide); 
                    slideScriptsExecuted[index] = true;
                } else {
                    console.log(`One-time script for slide ${index + 1} ('${slide.id}') already executed.`);
                    // Si alguna animación necesita reiniciarse explícitamente al volver a la slide,
                    // se puede llamar a una función de 'reinicio' específica aquí o dentro de executeSlideSpecificScript.
                }
            } else {
                if (wasActive) {
                    slide.classList.remove('active');
                    console.log(`Slide ${index + 1} ('${slide.id}') is now inactive.`);
                }
            }
        });
        
        if(slideIndicator) slideIndicator.textContent = `${currentSlideIndex + 1} / ${totalSlides}`;
        if(prevButton) prevButton.disabled = currentSlideIndex === 0;
        if(nextButton) nextButton.disabled = currentSlideIndex === totalSlides - 1;
        
        window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function executeSlideSpecificScript(slideElement) {
        const slideId = slideElement.id;
        console.log(`Attempting to execute specific script for slide ID: ${slideId}`);

        if (slideId === 'slide1_nn') {
            console.log("Executing script for Slide 1 (Fecha)");
            const dateElement = slideElement.querySelector('#currentDate');
            if (dateElement) {
                dateElement.textContent = new Date().toLocaleDateString('es-ES', {
                    year: 'numeric', month: 'long', day: 'numeric'
                });
                console.log("Date updated for Slide 1.");
            } else {
                console.error("Date element #currentDate not found in Slide 1.");
            }
        }
        else if (slideId === 'slide3_nn') {
            console.log("Initializing Gas Animation for Slide3_nn");
            
            const canvas = slideElement.querySelector('#gasCanvas_s3');
            if (!canvas) {
                console.error("#gasCanvas_s3 not found in #slide3_nn");
                return;
            }
            const ctx = canvas.getContext('2d');
            const label = slideElement.querySelector('#gasAnimationLabel_s3');
            const playPauseBtnEl = slideElement.querySelector('#playPauseGasAnimation_s3'); // Renombrado para evitar conflicto
            const resetBtnEl = slideElement.querySelector('#resetGasAnimation_s3'); // Renombrado

            if (!label || !playPauseBtnEl || !resetBtnEl) {
                console.error("One or more control elements for slide3_nn animation are missing.");
                return;
            }
            
            // Evitar reinicializar toda la lógica si ya existe (útil si slideScriptsExecuted se cambia)
            if (canvas.dataset.animationInitialized_s3 === 'true') {
                console.log("Animation for Slide3_nn already initialized. Visuals should persist or be reset by returning to slide.");
                // Podrías llamar a resetAnimation_s3_func() si quieres que se reinicie cada vez que se muestra.
                return; 
            }
            canvas.dataset.animationInitialized_s3 = 'true';
            
            let particles_s3 = [];
            const numParticles_s3 = 20; 
            let animationPhase_s3 = 0; 
            let phaseTimer_s3 = 0;
            const phaseDuration_s3 = 240; 
            const transitionDuration_s3 = 120; 
            let isPaused_s3 = true;
            let animationFrameId_s3; 

            const particleRadius_s3 = 5;
            const particleColors_s3 = ['#3498db', '#2ecc71', '#e74c3c', '#f1c40f', '#9b59b6']; 

            let container_s3 = {
                baseWidth: canvas.width * 0.75,
                baseHeight: canvas.height * 0.75,
                currentWidth: 0, currentHeight: 0,
                targetWidth: 0, targetHeight: 0,
                x: 0, y: 0
            };
            
            function initParticles_s3_func() { /* ... (código de P2 para esta función) ... */ 
                particles_s3 = [];
                container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                container_s3.y = (canvas.height - container_s3.currentHeight) / 2;

                for (let i = 0; i < numParticles_s3; i++) {
                    particles_s3.push({
                        x: container_s3.x + particleRadius_s3 + Math.random() * (container_s3.currentWidth - 2 * particleRadius_s3),
                        y: container_s3.y + particleRadius_s3 + Math.random() * (container_s3.currentHeight - 2 * particleRadius_s3),
                        vx: (Math.random() - 0.5) * 3.5,
                        vy: (Math.random() - 0.5) * 3.5,
                        radius: particleRadius_s3,
                        color: particleColors_s3[Math.floor(Math.random() * particleColors_s3.length)]
                    });
                }
            }
            function updateParticles_s3_func() { /* ... (código de P2 para esta función) ... */ 
                particles_s3.forEach(p => {
                    p.x += p.vx;
                    p.y += p.vy;
                    if (p.x - p.radius < container_s3.x) { p.vx *= -1; p.x = container_s3.x + p.radius; } 
                    else if (p.x + p.radius > container_s3.x + container_s3.currentWidth) { p.vx *= -1; p.x = container_s3.x + container_s3.currentWidth - p.radius; }
                    if (p.y - p.radius < container_s3.y) { p.vy *= -1; p.y = container_s3.y + p.radius; } 
                    else if (p.y + p.radius > container_s3.y + container_s3.currentHeight) { p.vy *= -1; p.y = container_s3.y + container_s3.currentHeight - p.radius; }
                });
            }
            function draw_s3_func() { /* ... (código de P2 para esta función) ... */ 
                if (!ctx) return;
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.strokeStyle = '#034f84'; ctx.lineWidth = 3;
                ctx.strokeRect(container_s3.x, container_s3.y, container_s3.currentWidth, container_s3.currentHeight);
                particles_s3.forEach(p => {
                    ctx.beginPath(); ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
                    ctx.fillStyle = p.color; ctx.fill(); ctx.closePath();
                });
            }
            function animate_s3_func() { /* ... (código de P2 para esta función, asegurando que label y botones existan) ... */
                if (isPaused_s3) return;
                phaseTimer_s3++;
                // ... (el switch case completo de P2 para animate_s3_func)
                switch (animationPhase_s3) {
                    case 0: 
                        if(label) label.textContent = "Movimiento constante. Baja densidad.";
                        if (phaseTimer_s3 > phaseDuration_s3) {
                            animationPhase_s3 = 1; phaseTimer_s3 = 0;
                            container_s3.targetWidth = canvas.width - 20; 
                            container_s3.targetHeight = canvas.height - 20;
                        }
                        break;
                    case 1: 
                        if(label) label.textContent = "Expandiendo...";
                        container_s3.currentWidth += (container_s3.targetWidth - container_s3.currentWidth) * 0.03;
                        container_s3.currentHeight += (container_s3.targetHeight - container_s3.currentHeight) * 0.03;
                        container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                        container_s3.y = (canvas.height - container_s3.currentHeight) / 2;
                        particles_s3.forEach(p => {
                            p.x = Math.max(container_s3.x + p.radius, Math.min(p.x, container_s3.x + container_s3.currentWidth - p.radius));
                            p.y = Math.max(container_s3.y + p.radius, Math.min(p.y, container_s3.y + container_s3.currentHeight - p.radius));
                        });
                        if (phaseTimer_s3 > transitionDuration_s3 && Math.abs(container_s3.currentWidth - container_s3.targetWidth) < 1 && Math.abs(container_s3.currentHeight - container_s3.targetHeight) < 1) {
                            animationPhase_s3 = 2; phaseTimer_s3 = 0;
                            container_s3.currentWidth = container_s3.targetWidth; container_s3.currentHeight = container_s3.targetHeight;
                            container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                            container_s3.y = (canvas.height - container_s3.currentHeight) / 2;
                        }
                        break;
                    case 2: 
                        if(label) label.textContent = "Los gases se expanden para llenar el volumen.";
                        if (phaseTimer_s3 > phaseDuration_s3) {
                            animationPhase_s3 = 3; phaseTimer_s3 = 0;
                            container_s3.targetWidth = canvas.width * 0.4; 
                            container_s3.targetHeight = canvas.height * 0.5;
                        }
                        break;
                    case 3: 
                        if(label) label.textContent = "Comprimiendo...";
                        container_s3.currentWidth += (container_s3.targetWidth - container_s3.currentWidth) * 0.03;
                        container_s3.currentHeight += (container_s3.targetHeight - container_s3.currentHeight) * 0.03;
                        container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                        container_s3.y = (canvas.height - container_s3.currentHeight) / 2;
                        particles_s3.forEach(p => {
                            p.x = Math.max(container_s3.x + p.radius, Math.min(p.x, container_s3.x + container_s3.currentWidth - p.radius));
                            p.y = Math.max(container_s3.y + p.radius, Math.min(p.y, container_s3.y + container_s3.currentHeight - p.radius));
                        });
                        if (phaseTimer_s3 > transitionDuration_s3 && Math.abs(container_s3.currentWidth - container_s3.targetWidth) < 1 && Math.abs(container_s3.currentHeight - container_s3.targetHeight) < 1) {
                            animationPhase_s3 = 4; phaseTimer_s3 = 0;
                            container_s3.currentWidth = container_s3.targetWidth; container_s3.currentHeight = container_s3.targetHeight;
                            container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                            container_s3.y = (canvas.height - container_s3.currentHeight) / 2;
                        }
                        break;
                    case 4: 
                        if(label) label.textContent = "Son fácilmente compresibles.";
                        if (phaseTimer_s3 > phaseDuration_s3) {
                            animationPhase_s3 = 5; phaseTimer_s3 = 0;
                            container_s3.targetWidth = container_s3.baseWidth; 
                            container_s3.targetHeight = container_s3.baseHeight;
                        }
                        break;
                    case 5: 
                        if(label) label.textContent = "Reajustando...";
                        container_s3.currentWidth += (container_s3.targetWidth - container_s3.currentWidth) * 0.03;
                        container_s3.currentHeight += (container_s3.targetHeight - container_s3.currentHeight) * 0.03;
                        container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                        container_s3.y = (canvas.height - container_s3.currentHeight) / 2;
                        particles_s3.forEach(p => {
                            p.x = Math.max(container_s3.x + p.radius, Math.min(p.x, container_s3.x + container_s3.currentWidth - p.radius));
                            p.y = Math.max(container_s3.y + p.radius, Math.min(p.y, container_s3.y + container_s3.currentHeight - p.radius));
                        });
                        if (phaseTimer_s3 > transitionDuration_s3 && Math.abs(container_s3.currentWidth - container_s3.targetWidth) < 1 && Math.abs(container_s3.currentHeight - container_s3.targetHeight) < 1) {
                            animationPhase_s3 = 0; phaseTimer_s3 = 0; // Ciclo
                            container_s3.currentWidth = container_s3.targetWidth; container_s3.currentHeight = container_s3.targetHeight;
                            container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                            container_s3.y = (canvas.height - container_s3.currentHeight) / 2;
                        }
                        break;
                }
                updateParticles_s3_func();
                draw_s3_func();
                animationFrameId_s3 = requestAnimationFrame(animate_s3_func);
            }

            function resetAnimation_s3_func() { /* ... (código de P2 para esta función) ... */ 
                isPaused_s3 = true;
                if (animationFrameId_s3) { cancelAnimationFrame(animationFrameId_s3); animationFrameId_s3 = null; }
                animationPhase_s3 = 0; phaseTimer_s3 = 0;
                container_s3.currentWidth = container_s3.baseWidth;
                container_s3.currentHeight = container_s3.baseHeight;
                container_s3.x = (canvas.width - container_s3.currentWidth) / 2;
                container_s3.y = (canvas.height - container_s3.currentHeight) / 2;
                container_s3.targetWidth = container_s3.currentWidth;
                container_s3.targetHeight = container_s3.currentHeight;
                initParticles_s3_func();
                draw_s3_func();
                if(label) label.textContent = "Presiona Iniciar";
                if(playPauseBtnEl) playPauseBtnEl.innerHTML = '<i class="fas fa-play"></i>Iniciar';
            }
            
            // Clonar y reemplazar botones para evitar listeners duplicados
            const newPlayPauseBtn_s3 = playPauseBtnEl.cloneNode(true);
            playPauseBtnEl.parentNode.replaceChild(newPlayPauseBtn_s3, playPauseBtnEl);
            newPlayPauseBtn_s3.addEventListener('click', () => {
                isPaused_s3 = !isPaused_s3;
                if (isPaused_s3) {
                    if (animationFrameId_s3) cancelAnimationFrame(animationFrameId_s3);
                    newPlayPauseBtn_s3.innerHTML = '<i class="fas fa-play"></i>Reanudar';
                } else {
                    if (particles_s3.length === 0) { initParticles_s3_func(); } 
                    animate_s3_func();
                    newPlayPauseBtn_s3.innerHTML = '<i class="fas fa-pause"></i>Pausar';
                }
            });

            const newResetBtn_s3 = resetBtnEl.cloneNode(true);
            resetBtnEl.parentNode.replaceChild(newResetBtn_s3, resetBtnEl);
            newResetBtn_s3.addEventListener('click', resetAnimation_s3_func);
            
            resetAnimation_s3_func(); // Dibuja el estado inicial
        }
        else if (slideId === 'slide6_nn') { 
            console.log("Initializing Canvas Simulators for Slide6_nn");
            // --- Constantes y Clase Particle_S6 ---
            const GASES_S6 = { /* ... (definición de GASES_S6 de P2) ... */ 
                'Helio': { color: '#add8e6', mass: 4, name: 'Helio (4 g/mol)' },
                'Neon': { color: '#ffb6c1', mass: 20, name: 'Neón (20 g/mol)' },
                'Nitrogeno': { color: '#90ee90', mass: 28, name: 'Nitrógeno (28 g/mol)' },
                'Oxigeno': { color: '#f08080', mass: 32, name: 'Oxígeno (32 g/mol)' },
                'Argon': { color: '#dda0dd', mass: 40, name: 'Argón (40 g/mol)' },
                'DioxidoCarbono': { color: '#ffebcd', mass: 44, name: 'CO₂ (44 g/mol)' },
                'Kripton': { color: '#b0c4de', mass: 84, name: 'Kriptón (84 g/mol)' },
                'HexafluoruroAzufre': { color: '#a9a9a9', mass: 146, name: 'SF₆ (146 g/mol)'}
            };
            const GAS_KEYS_S6 = Object.keys(GASES_S6);
            const PARTICLE_RADIUS_S6 = 3.5;
            const BASE_PARTICLE_SPEED_S6 = 1.8; 
            const NUM_PARTICLES_DIFFUSION_S6 = 30; 
            const NUM_PARTICLES_EFFUSION_S6 = 60;

            class Particle_S6 { /* ... (definición de la clase Particle_S6 de P2) ... */ 
                constructor(x, y, gasKey, canvasContext) {
                    const gasProps = GASES_S6[gasKey];
                    this.x = x; this.y = y; this.radius = PARTICLE_RADIUS_S6;
                    this.color = gasProps.color; this.mass = gasProps.mass;
                    this.canvas = canvasContext.canvas; this.ctx = canvasContext;
                    const speedFactor = Math.sqrt(GASES_S6['Helio'].mass / this.mass);
                    const angle = Math.random() * 2 * Math.PI;
                    const currentSpeed = BASE_PARTICLE_SPEED_S6 * speedFactor * (Math.random() * 0.4 + 0.8);
                    this.vx = Math.cos(angle) * currentSpeed; this.vy = Math.sin(angle) * currentSpeed;
                    this.isActive = true;
                }
                draw() {
                    if (!this.isActive || !this.ctx) return;
                    this.ctx.beginPath(); this.ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    this.ctx.fillStyle = this.color; this.ctx.fill(); this.ctx.closePath();
                }
                updateDiffusion(barrierX) {
                    if (!this.isActive || !this.canvas) return; 
                    this.x += this.vx; this.y += this.vy;
                    if (this.x + this.radius > this.canvas.width || this.x - this.radius < 0) {
                        this.vx *= -1; this.x = Math.max(this.radius, Math.min(this.x, this.canvas.width - this.radius));
                    }
                    if (this.y + this.radius > this.canvas.height || this.y - this.radius < 0) {
                        this.vy *= -1; this.y = Math.max(this.radius, Math.min(this.y, this.canvas.height - this.radius));
                    }
                    if (barrierX !== null) {
                        const barrierThickness = 2;
                        if (this.vx > 0 && this.x + this.radius > barrierX - barrierThickness / 2 && this.x - this.radius < barrierX + barrierThickness / 2) {
                            this.vx *= -1; this.x = barrierX - barrierThickness / 2 - this.radius;
                        } else if (this.vx < 0 && this.x - this.radius < barrierX + barrierThickness / 2 && this.x + this.radius > barrierX - barrierThickness/2 ) {
                            this.vx *= -1; this.x = barrierX + barrierThickness / 2 + this.radius;
                        }
                    }
                }
                updateEffusion(dividerX, holeY, holeHeight, canvasWidth) {
                    if (!this.isActive || !this.canvas) return; 
                    this.x += this.vx; this.y += this.vy;
                    if (this.y - this.radius < 0 || this.y + this.radius > this.canvas.height) {
                        this.vy *= -1; this.y = Math.max(this.radius, Math.min(this.y, this.canvas.height - this.radius));
                    }
                    if (this.x - this.radius < 0) { this.vx *= -1; this.x = this.radius; }
                    if (this.vx > 0 && this.x + this.radius > dividerX && this.x - this.radius < dividerX + 2) {
                        if (!(this.y > holeY && this.y < holeY + holeHeight)) {
                            this.vx *= -1; this.x = dividerX - this.radius;
                        }
                    }
                    if (this.x - this.radius > canvasWidth) { this.isActive = false; }
                }
            }

            // --- Elementos y Lógica de Difusión ---
            const diffusionCanvas = slideElement.querySelector('#diffusionCanvas_s6');
            const diffusionCtx = diffusionCanvas ? diffusionCanvas.getContext('2d') : null;
            const startDiffusionBtnEl = slideElement.querySelector('#startDiffusion_s6'); // Renombrado
            const diffusionExplanationEl = slideElement.querySelector('#diffusionExplanation_s6');
            const selectGasA = slideElement.querySelector('#selectGasA_s6');
            const selectGasB = slideElement.querySelector('#selectGasB_s6');
            const gasADot = slideElement.querySelector('#gasADot_s6');
            const gasAName = slideElement.querySelector('#gasAName_s6');
            const gasBDot = slideElement.querySelector('#gasBDot_s6');
            const gasBName = slideElement.querySelector('#gasBName_s6');
            
            let diffusionParticles_s6 = []; let diffusionAnimationId_s6 = null;
            let diffusionBarrierX_val_s6 = diffusionCanvas ? diffusionCanvas.width / 2 : 300;
            let diffusionSimRunning_s6 = false; let barrierPresent_s6 = true;

            // --- Elementos y Lógica de Efusión ---
            const effusionCanvas = slideElement.querySelector('#effusionCanvas_s6');
            const effusionCtx = effusionCanvas ? effusionCanvas.getContext('2d') : null;
            const startEffusionBtnEl = slideElement.querySelector('#startEffusion_s6'); // Renombrado
            const effusionExplanationEl = slideElement.querySelector('#effusionExplanation_s6');
            const effusionParticleCountEl = slideElement.querySelector('#effusionParticleCount_s6');
            const selectGasEffusion = slideElement.querySelector('#selectGasEffusion_s6');
            const gasEffusionDot = slideElement.querySelector('#gasEffusionDot_s6');
            const gasEffusionName = slideElement.querySelector('#gasEffusionName_s6');
            
            let effusionParticles_s6 = []; let effusionAnimationId_s6 = null;
            const EFFUSION_DIVIDER_X_RATIO_S6 = 2/3; const EFFUSION_HOLE_HEIGHT_S6 = 30;
            let effDividerX_s6, effHoleY_s6; let effusionSimRunning_s6 = false;

            // Evitar reinicializar toda la lógica si ya existe
            if (slideElement.dataset.simulatorsInitialized_s6 === 'true') {
                console.log("Simulators for Slide6_nn already initialized.");
                // Quizás llamar a funciones de reset visual si es necesario al volver.
                return;
            }
            slideElement.dataset.simulatorsInitialized_s6 = 'true';

            // --- Funciones de Ayuda y Lógica de Simulación (populateSelectors, initDiffusion, etc.) ---
            function populateSelectors_s6_func() { /* ... (código de P2) ... */ 
                if (!selectGasA || !selectGasB || !selectGasEffusion) return;
                selectGasA.innerHTML = ''; selectGasB.innerHTML = ''; selectGasEffusion.innerHTML = '';
                GAS_KEYS_S6.forEach(key => {
                    selectGasA.add(new Option(GASES_S6[key].name.split(' (')[0], key));
                    selectGasB.add(new Option(GASES_S6[key].name.split(' (')[0], key));
                    selectGasEffusion.add(new Option(GASES_S6[key].name.split(' (')[0], key));
                });
                selectGasA.value = GAS_KEYS_S6[0]; 
                selectGasB.value = GAS_KEYS_S6[GAS_KEYS_S6.length - 1]; 
                selectGasEffusion.value = GAS_KEYS_S6[0]; 
                updateDiffusionLegend_s6_func(); updateEffusionLegend_s6_func();
            }
            function updateDiffusionLegend_s6_func() { /* ... (código de P2) ... */ 
                if (!selectGasA || !selectGasB || !gasADot || !gasAName || !gasBDot || !gasBName) return;
                const gasAKey = selectGasA.value; const gasBKey = selectGasB.value;
                gasADot.style.backgroundColor = GASES_S6[gasAKey].color;
                gasAName.textContent = GASES_S6[gasAKey].name.split(' (')[0];
                gasBDot.style.backgroundColor = GASES_S6[gasBKey].color;
                gasBName.textContent = GASES_S6[gasBKey].name.split(' (')[0];
            }
            function initDiffusion_s6_func() { /* ... (código de P2) ... */ 
                if (!diffusionCanvas || !diffusionCtx) return;
                if (diffusionAnimationId_s6) cancelAnimationFrame(diffusionAnimationId_s6); diffusionAnimationId_s6 = null;
                diffusionParticles_s6 = []; diffusionSimRunning_s6 = false; barrierPresent_s6 = true;
                diffusionBarrierX_val_s6 = diffusionCanvas.width / 2;
                if(diffusionExplanationEl) diffusionExplanationEl.textContent = "Selecciona gases y pulsa 'Iniciar Difusión'.";
                updateDiffusionLegend_s6_func();
                const gasAKey = selectGasA.value; const gasBKey = selectGasB.value;
                for (let i = 0; i < NUM_PARTICLES_DIFFUSION_S6; i++) {
                    const xA = PARTICLE_RADIUS_S6 + Math.random() * (diffusionBarrierX_val_s6 - PARTICLE_RADIUS_S6 * 2 - 4);
                    const yA = PARTICLE_RADIUS_S6 + Math.random() * (diffusionCanvas.height - PARTICLE_RADIUS_S6 * 2);
                    diffusionParticles_s6.push(new Particle_S6(xA, yA, gasAKey, diffusionCtx));
                    const xB = diffusionBarrierX_val_s6 + 4 + PARTICLE_RADIUS_S6 + Math.random() * (diffusionCanvas.width - (diffusionBarrierX_val_s6 + 4) - PARTICLE_RADIUS_S6 * 2);
                    const yB = PARTICLE_RADIUS_S6 + Math.random() * (diffusionCanvas.height - PARTICLE_RADIUS_S6 * 2);
                    diffusionParticles_s6.push(new Particle_S6(xB, yB, gasBKey, diffusionCtx));
                }
                drawDiffusion_s6_func();
                if(startDiffusionBtnEl) startDiffusionBtnEl.innerHTML = '<i class="fas fa-play mr-1"></i>Iniciar Difusión';
            }
            function drawDiffusionBarrier_s6_func() { /* ... (código de P2) ... */ 
                if (barrierPresent_s6 && diffusionCtx && diffusionCanvas) {
                    diffusionCtx.beginPath(); diffusionCtx.moveTo(diffusionBarrierX_val_s6, 0);
                    diffusionCtx.lineTo(diffusionBarrierX_val_s6, diffusionCanvas.height);
                    diffusionCtx.strokeStyle = '#4b5563'; diffusionCtx.lineWidth = 2; diffusionCtx.stroke();
                }
            }
            function drawDiffusion_s6_func() { /* ... (código de P2) ... */ 
                if (!diffusionCtx || !diffusionCanvas) return;
                diffusionCtx.clearRect(0, 0, diffusionCanvas.width, diffusionCanvas.height);
                drawDiffusionBarrier_s6_func(); diffusionParticles_s6.forEach(p => p.draw());
            }
            function animateDiffusion_s6_func() { /* ... (código de P2) ... */ 
                 if (!diffusionSimRunning_s6 || !diffusionCtx || !diffusionCanvas) {
                    if(diffusionAnimationId_s6) cancelAnimationFrame(diffusionAnimationId_s6); diffusionAnimationId_s6 = null; return;
                }
                diffusionCtx.clearRect(0, 0, diffusionCanvas.width, diffusionCanvas.height);
                const currentBarrierX = barrierPresent_s6 ? diffusionBarrierX_val_s6 : null;
                diffusionParticles_s6.forEach(p => { p.updateDiffusion(currentBarrierX); p.draw(); });
                drawDiffusionBarrier_s6_func();
                diffusionAnimationId_s6 = requestAnimationFrame(animateDiffusion_s6_func);
            }
            function updateEffusionLayoutParams_s6_func() { /* ... (código de P2) ... */ 
                 if (!effusionCanvas) return;
                effDividerX_s6 = effusionCanvas.width * EFFUSION_DIVIDER_X_RATIO_S6;
                effHoleY_s6 = (effusionCanvas.height - EFFUSION_HOLE_HEIGHT_S6) / 2;
            }
            function updateEffusionLegend_s6_func() { /* ... (código de P2) ... */ 
                if(!selectGasEffusion || !gasEffusionDot || !gasEffusionName) return;
                const gasKey = selectGasEffusion.value;
                gasEffusionDot.style.backgroundColor = GASES_S6[gasKey].color;
                gasEffusionName.textContent = GASES_S6[gasKey].name.split(' (')[0];
            }
            function initEffusion_s6_func() { /* ... (código de P2) ... */ 
                if (!effusionCanvas || !effusionCtx) return;
                if (effusionAnimationId_s6) cancelAnimationFrame(effusionAnimationId_s6); effusionAnimationId_s6 = null;
                effusionParticles_s6 = []; effusionSimRunning_s6 = false;
                updateEffusionLayoutParams_s6_func(); updateEffusionLegend_s6_func();
                if(effusionExplanationEl) effusionExplanationEl.textContent = "Selecciona gas y pulsa 'Iniciar Efusión'.";
                const gasKey = selectGasEffusion.value;
                for (let i = 0; i < NUM_PARTICLES_EFFUSION_S6; i++) {
                    const x = PARTICLE_RADIUS_S6 + Math.random() * (effDividerX_s6 - PARTICLE_RADIUS_S6 * 2 - 2);
                    const y = PARTICLE_RADIUS_S6 + Math.random() * (effusionCanvas.height - PARTICLE_RADIUS_S6 * 2);
                    effusionParticles_s6.push(new Particle_S6(x, y, gasKey, effusionCtx));
                }
                updateEffusionParticleCount_s6_func(); drawEffusion_s6_func();
                if(startEffusionBtnEl) startEffusionBtnEl.innerHTML = '<i class="fas fa-play mr-1"></i>Iniciar Efusión';
            }
            function drawEffusionDividerAndHole_s6_func() { /* ... (código de P2) ... */ 
                 if (!effusionCtx || !effusionCanvas) return;
                effusionCtx.beginPath();
                effusionCtx.moveTo(effDividerX_s6, 0); effusionCtx.lineTo(effDividerX_s6, effHoleY_s6);
                effusionCtx.moveTo(effDividerX_s6, effHoleY_s6 + EFFUSION_HOLE_HEIGHT_S6);
                effusionCtx.lineTo(effDividerX_s6, effusionCanvas.height);
                effusionCtx.strokeStyle = '#4b5563'; effusionCtx.lineWidth = 2; effusionCtx.stroke();
            }
            function drawEffusion_s6_func() { /* ... (código de P2) ... */ 
                if (!effusionCtx || !effusionCanvas) return;
                effusionCtx.clearRect(0, 0, effusionCanvas.width, effusionCanvas.height);
                drawEffusionDividerAndHole_s6_func(); effusionParticles_s6.forEach(p => p.draw());
            }
            function updateEffusionParticleCount_s6_func() { /* ... (código de P2) ... */ 
                if(!effusionParticleCountEl) return;
                const activeParticles = effusionParticles_s6.filter(p => p.isActive).length;
                effusionParticleCountEl.textContent = `Partículas restantes: ${activeParticles}`;
                if (activeParticles === 0 && effusionSimRunning_s6 && effusionParticles_s6.length > 0) {
                    if(effusionExplanationEl) effusionExplanationEl.textContent = "¡Todas las partículas han escapado!";
                    if (effusionAnimationId_s6) cancelAnimationFrame(effusionAnimationId_s6);
                    effusionAnimationId_s6 = null; effusionSimRunning_s6 = false; 
                    if(startEffusionBtnEl) startEffusionBtnEl.innerHTML = '<i class="fas fa-redo mr-1"></i>Reiniciar Efusión';
                }
            }
            function animateEffusion_s6_func() { /* ... (código de P2) ... */ 
                if (!effusionSimRunning_s6 || !effusionCtx || !effusionCanvas) {
                     if(effusionAnimationId_s6) cancelAnimationFrame(effusionAnimationId_s6); effusionAnimationId_s6 = null; return;
                }
                effusionCtx.clearRect(0, 0, effusionCanvas.width, effusionCanvas.height);
                effusionParticles_s6.forEach(p => { 
                    if (p.isActive) { 
                        p.updateEffusion(effDividerX_s6, effHoleY_s6, EFFUSION_HOLE_HEIGHT_S6, effusionCanvas.width); 
                        p.draw(); 
                    } 
                });
                drawEffusionDividerAndHole_s6_func(); updateEffusionParticleCount_s6_func();
                const activeParticlesCount = effusionParticles_s6.filter(p => p.isActive).length;
                if (activeParticlesCount > 0) { 
                    effusionAnimationId_s6 = requestAnimationFrame(animateEffusion_s6_func); 
                } else { 
                    if (effusionAnimationId_s6) cancelAnimationFrame(effusionAnimationId_s6);
                    effusionAnimationId_s6 = null;
                    effusionSimRunning_s6 = false;
                }
            }
            
            // --- Event Listeners (con clonación para robustez) ---
            function setupButtonListener_s6(buttonId, callback) {
                const button = slideElement.querySelector(`#${buttonId}`);
                if (button) {
                    const newButton = button.cloneNode(true); // Clonar para remover listeners viejos
                    button.parentNode.replaceChild(newButton, button);
                    newButton.addEventListener('click', callback);
                    return newButton;
                }
                console.warn(`Button with ID ${buttonId} not found in slide ${slideId}`);
                return null;
            }

            const currentStartDiffusionBtn = setupButtonListener_s6('startDiffusion_s6', function() {
                const btn = this; // Referencia al botón clickeado
                if (!diffusionSimRunning_s6 && (!diffusionParticles_s6 || diffusionParticles_s6.length === 0 || diffusionParticles_s6.every(p=>!p.isActive) )) {
                    initDiffusion_s6_func(); 
                }
                if (diffusionSimRunning_s6) { 
                    initDiffusion_s6_func(); 
                    // El texto del botón se actualiza en initDiffusion_s6_func
                } else { 
                    diffusionSimRunning_s6 = true; barrierPresent_s6 = true;
                    if(diffusionExplanationEl) diffusionExplanationEl.textContent = "Observa el movimiento. La barrera se quitará...";
                    animateDiffusion_s6_func();
                    btn.innerHTML = '<i class="fas fa-redo mr-1"></i>Reiniciar Difusión';
                    setTimeout(() => {
                        if (diffusionSimRunning_s6) { barrierPresent_s6 = false; 
                            if(diffusionExplanationEl) diffusionExplanationEl.textContent = "¡Barrera eliminada! Observa la difusión.";
                        }
                    }, 3000); 
                }
            });

            const currentStartEffusionBtn = setupButtonListener_s6('startEffusion_s6', function() {
                const btn = this;
                const activeEffusionParticles = effusionParticles_s6.filter(p => p.isActive).length;
                if (!effusionSimRunning_s6 && activeEffusionParticles === 0) {
                     initEffusion_s6_func(); 
                }

                if (effusionSimRunning_s6 && activeEffusionParticles === 0) { 
                     initEffusion_s6_func(); 
                } else if (effusionSimRunning_s6) { 
                    initEffusion_s6_func();
                } else { 
                    effusionSimRunning_s6 = true;
                    if(effusionExplanationEl) effusionExplanationEl.textContent = "Observa cómo las partículas escapan...";
                    animateEffusion_s6_func(); // Iniciar o reanudar
                    btn.innerHTML = '<i class="fas fa-redo mr-1"></i>Reiniciar Efusión';
                }
            });
            
            if(selectGasA) selectGasA.addEventListener('change', () => { initDiffusion_s6_func(); updateDiffusionLegend_s6_func(); });
            if(selectGasB) selectGasB.addEventListener('change', () => { initDiffusion_s6_func(); updateDiffusionLegend_s6_func(); });
            if(selectGasEffusion) selectGasEffusion.addEventListener('change', () => { initEffusion_s6_func(); updateEffusionLegend_s6_func();});

            populateSelectors_s6_func(); 
            if (diffusionCanvas) initDiffusion_s6_func();
            if (effusionCanvas) initEffusion_s6_func();
        }
        else if (slideId === 'slide7_nn') { 
            console.log("Attempting script for Slide 7 (Perfume)");
            const container = slideElement.querySelector('.perfume-container');
            if (container) {
                if (container.querySelectorAll('.perfume-particle').length === 0) {
                    console.log("Generating perfume particles for Slide 7...");
                    for (let i = 0; i < 60; i++) {
                        const particle = document.createElement('div');
                        particle.className = 'perfume-particle';
                        const angle = Math.random() * Math.PI * 2;
                        const distance = 50 + Math.random() * 300; 
                        const sprayOriginX = 100; const sprayOriginY = 200;
                        const animInitialX = 90; const animInitialY = 90;
                        const finalTargetX = sprayOriginX + Math.cos(angle) * distance;
                        const finalTargetY = sprayOriginY + Math.sin(angle) * distance;
                        particle.style.setProperty('--tx', (finalTargetX - animInitialX) + 'px');
                        particle.style.setProperty('--ty', (finalTargetY - animInitialY) + 'px');
                        particle.style.animationDelay = (Math.random() * 5) + 's';
                        const size = 6 + Math.random() * 10;
                        particle.style.width = size + 'px'; particle.style.height = size + 'px';
                        const hue = 270 + Math.random() * 60; 
                        const sat = 70 + Math.random() * 30;
                        const light = 40 + Math.random() * 30;
                        particle.style.backgroundColor = `hsl(${hue}, ${sat}%, ${light}%)`;
                        container.appendChild(particle);
                    }
                }
            } else { console.error("Perfume container not found in Slide 7."); }
        }
        else if (slideId === 'slide8_nn') { 
            console.log("Attempting script for Slide 8 (Globo)");
            const container = slideElement.querySelector('.balloon-container');
            if (container) {
                if (container.querySelectorAll('.gas-particle.effusing').length === 0) { 
                    const balloonElement = slideElement.querySelector('.balloon');
                    const poreElement = slideElement.querySelector('.pore');
                    if (balloonElement && poreElement) {
                        const containerRect = container.getBoundingClientRect();
                        const poreRect = poreElement.getBoundingClientRect();
                        const poreCenterXInContainer = (poreRect.left - containerRect.left) + (poreRect.width / 2);
                        const poreCenterYInContainer = (poreRect.top - containerRect.top) + (poreRect.height / 2);

                        function createEffusionParticle_s8(type, x, y, particleContainer, delay) {
                            const particle = document.createElement('div');
                            particle.className = `gas-particle effusing ${type}`; 
                            particle.style.left = `${x}px`; particle.style.top = `${y}px`;
                            const angle = (Math.random() * Math.PI / 2) - Math.PI / 4 + (Math.PI / 2 * (Math.random() > 0.5 ? 0.5 : -0.5) ); // Ajustar ángulo para dispersión
                            const speed = type === 'helium' ? (80 + Math.random() * 120) : (30 + Math.random() * 50);
                            particle.style.setProperty('--tx', (Math.cos(angle) * speed) + 'px');
                            particle.style.setProperty('--ty', (Math.sin(angle) * speed) + 'px');
                            particle.style.animationDelay = `${delay}ms`;
                            particleContainer.appendChild(particle);
                        }
                        for (let i = 0; i < 30; i++) { 
                            createEffusionParticle_s8('helium', poreCenterXInContainer, poreCenterYInContainer, container, i * 200);
                        }
                        for (let i = 0; i < 8; i++) {
                            createEffusionParticle_s8('oxygen', poreCenterXInContainer, poreCenterYInContainer, container, i * 750);
                        }
                        console.log("Balloon gas particles generated for Slide 8.");
                    } else { console.error("Balloon or pore element not found in Slide 8."); }
                }
            } else { console.error("Balloon container not found in Slide 8."); }
        }
    }

    function goToSlide(slideIndex) {
        if (slideIndex >= 0 && slideIndex < totalSlides) {
            currentSlideIndex = slideIndex;
            updateSlideDisplay();
        }
    }
    function nextSlide() { 
        if (currentSlideIndex < totalSlides - 1) {
            goToSlide(currentSlideIndex + 1); 
        }
    }
    function prevSlide() { 
        if (currentSlideIndex > 0) {
            goToSlide(currentSlideIndex - 1); 
        }
    }

    if (prevButton && nextButton) {
        nextButton.addEventListener('click', nextSlide);
        prevButton.addEventListener('click', prevSlide);
        document.addEventListener('keydown', function (e) {
            if (document.activeElement && (document.activeElement.tagName === 'BUTTON' || document.activeElement.tagName === 'SELECT' || document.activeElement.tagName === 'INPUT')) {
                return; 
            }
            if (e.key === 'ArrowRight' || e.key === 'PageDown' || e.key === ' ') {
                if (e.key === ' ') e.preventDefault(); 
                nextSlide();
            } else if (e.key === 'ArrowLeft' || e.key === 'PageUp') {
                prevSlide();
            }
        });
    } else {
        console.warn("Navigation buttons not found.");
    }
    
    if(slides.length > 0) {
        updateSlideDisplay(); 
    } else {
        console.error("No slides found with class .slide-content");
    }
});
    </script>
</body>
</html>
